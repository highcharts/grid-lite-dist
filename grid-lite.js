!/**
 * Highcharts Grid v1.1.0 (2025-05-15)
 * @module grid/grid-lite
 *
 * (c) 2009-2025 Highsoft AS
 *
 * License: www.highcharts.com/license
 */function(e,t){"object"==typeof exports&&"object"==typeof module?(e._Grid=t(),module.exports=e._Grid):"function"==typeof define&&define.amd?define("grid/grid",[],t):"object"==typeof exports?(e._Grid=t(),exports.grid=e._Grid):(e.Grid&&e.Grid.error(16,!0),e.Grid=t())}("undefined"==typeof window?this:window,()=>(()=>{"use strict";let e;var t,i,s,n,o,r,l,a={};a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var h={};a.d(h,{default:()=>iG}),function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="1.1.0",e.win="undefined"!=typeof window?window:{},e.doc=e.win.document,e.svg=!!e.doc?.createElementNS?.(e.SVG_NS,"svg")?.createSVGRect,e.pageLang=e.doc?.documentElement?.closest("[lang]")?.lang,e.userAgent=e.win.navigator?.userAgent||"",e.isChrome=e.win.chrome,e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){let t=!1;if(!e.isMS){let i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,i),e.win.removeEventListener("testPassive",e.noop,i))}return t}(),e.charts=[],e.composed=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(t||(t={}));let d=t,{charts:u,doc:m,win:c}=d;function f(e,t,i,s){let n=t?"Highcharts error":"Highcharts warning";32===e&&(e=`${n}: Deprecated member`);let o=C(e),r=o?`${n} #${e}: www.highcharts.com/errors/${e}/`:e.toString();if(void 0!==s){let e="";o&&(r+="?"),L(s,function(t,i){e+=`
 - ${i}: ${t}`,o&&(r+=encodeURI(i)+"="+encodeURI(t))}),r+=e}k(d,"displayError",{chart:i,code:e,message:r,params:s},function(){if(t)throw Error(r);c.console&&-1===f.messages.indexOf(r)&&console.warn(r)}),f.messages.push(r)}function p(e,t){return parseInt(e,t||10)}function g(e){return"string"==typeof e}function y(e){let t=Object.prototype.toString.call(e);return"[object Array]"===t||"[object Array Iterator]"===t}function w(e,t){return!!e&&"object"==typeof e&&(!t||!y(e))}function b(e){return w(e)&&"number"==typeof e.nodeType}function v(e){let t=e?.constructor;return!!(w(e,!0)&&!b(e)&&t?.name&&"Object"!==t.name)}function C(e){return"number"==typeof e&&!isNaN(e)&&e<1/0&&e>-1/0}function E(e){return null!=e}function T(e,t,i){let s,n=g(t)&&!E(i),o=(t,i)=>{E(t)?e.setAttribute(i,t):n?(s=e.getAttribute(i))||"class"!==i||(s=e.getAttribute(i+"Name")):e.removeAttribute(i)};return g(t)?o(i,t):L(t,o),s}function x(e){return y(e)?e:[e]}function O(e,t){let i;for(i in e||(e={}),t)e[i]=t[i];return e}function R(){let e=arguments,t=e.length;for(let i=0;i<t;i++){let t=e[i];if(null!=t)return t}}function N(e,t){O(e.style,t)}function M(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function S(e,t){return e>1e14?e:parseFloat(e.toPrecision(t||14))}(f||(f={})).messages=[],Math.easeInOutSine=function(e){return -.5*(Math.cos(Math.PI*e)-1)};let A=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){let i,s=e.length;for(i=0;i<s;i++)if(t(e[i],i))return e[i]};function L(e,t,i){for(let s in e)Object.hasOwnProperty.call(e,s)&&t.call(i||e[s],e[s],s,e)}function D(e,t,i){function s(t,i){let s=e.removeEventListener;s&&s.call(e,t,i,!1)}function n(i){let n,o;e.nodeName&&(t?(n={})[t]=!0:n=i,L(n,function(e,t){if(i[t])for(o=i[t].length;o--;)s(t,i[t][o].fn)}))}let o="function"==typeof e&&e.prototype||e;if(Object.hasOwnProperty.call(o,"hcEvents")){let e=o.hcEvents;if(t){let o=e[t]||[];i?(e[t]=o.filter(function(e){return i!==e.fn}),s(t,i)):(n(e),e[t]=[])}else n(e),delete o.hcEvents}}function k(e,t,i,s){if(i=i||{},m?.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==d)){let s=m.createEvent("Events");s.initEvent(t,!0,!0),i=O(s,i),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(t,i)}else if(e.hcEvents){i.target||O(i,{preventDefault:function(){i.defaultPrevented=!0},target:e,type:t});let s=[],n=e,o=!1;for(;n.hcEvents;)Object.hasOwnProperty.call(n,"hcEvents")&&n.hcEvents[t]&&(s.length&&(o=!0),s.unshift.apply(s,n.hcEvents[t])),n=Object.getPrototypeOf(n);o&&s.sort((e,t)=>e.order-t.order),s.forEach(t=>{!1===t.fn.call(e,i)&&i.preventDefault()})}s&&!i.defaultPrevented&&s.call(e,i)}let H=function(){let t=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(e?"":t)+i++}}();c.jQuery&&(c.jQuery.fn.highcharts=function(){let e=[].slice.call(arguments);if(this[0])return e[0]?(new d[g(e[0])?e.shift():"Chart"](this[0],e[0],e[1]),this):u[T(this[0],"data-highcharts-chart")]});let I={addEvent:function(e,t,i,s={}){let n="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(n,"hcEvents")||(n.hcEvents={});let o=n.hcEvents;d.Point&&e instanceof d.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);let r=e.addEventListener;r&&r.call(e,t,i,!!d.supportsPassiveEvents&&{passive:void 0===s.passive?-1!==t.indexOf("touch"):s.passive,capture:!1}),o[t]||(o[t]=[]);let l={fn:i,order:"number"==typeof s.order?s.order:1/0};return o[t].push(l),o[t].sort((e,t)=>e.order-t.order),function(){D(e,t,i)}},arrayMax:function(e){let t=e.length,i=e[0];for(;t--;)e[t]>i&&(i=e[t]);return i},arrayMin:function(e){let t=e.length,i=e[0];for(;t--;)e[t]<i&&(i=e[t]);return i},attr:T,clamp:function(e,t,i){return e>t?e<i?e:i:t},clearTimeout:function(e){E(e)&&clearTimeout(e)},correctFloat:S,createElement:function(e,t,i,s,n){let o=m.createElement(e);return t&&O(o,t),n&&N(o,{padding:"0",border:"none",margin:"0"}),i&&N(o,i),s&&s.appendChild(o),o},crisp:function(e,t=0,i){let s=t%2/2,n=i?-1:1;return(Math.round(e*n-s)+s)*n},css:N,defined:E,destroyObjectProperties:function(e,t,i){L(e,function(s,n){s!==t&&s?.destroy&&s.destroy(),(s?.destroy||!i)&&delete e[n]})},diffObjects:function(e,t,i,s){let n={};return!function e(t,n,o,r){let l=i?n:t;L(t,function(i,a){if(!r&&s&&s.indexOf(a)>-1&&n[a]){i=x(i),o[a]=[];for(let t=0;t<Math.max(i.length,n[a].length);t++)n[a][t]&&(void 0===i[t]?o[a][t]=n[a][t]:(o[a][t]={},e(i[t],n[a][t],o[a][t],r+1)))}else w(i,!0)&&!i.nodeType?(o[a]=y(i)?[]:{},e(i,n[a]||{},o[a],r+1),0===Object.keys(o[a]).length&&("colorAxis"!==a||0!==r)&&delete o[a]):(t[a]!==n[a]||a in t&&!(a in n))&&"__proto__"!==a&&"constructor"!==a&&(o[a]=l[a])})}(e,t,n,0),n},discardElement:function(e){e?.parentElement?.removeChild(e)},erase:function(e,t){let i=e.length;for(;i--;)if(e[i]===t){e.splice(i,1);break}},error:f,extend:O,extendClass:function(e,t){let i=function(){};return i.prototype=new e,O(i.prototype,t),i},find:A,fireEvent:k,getAlignFactor:(e="")=>({center:.5,right:1,middle:.5,bottom:1})[e]||0,getClosestDistance:function(e,t){let i,s,n,o,r=!t;return e.forEach(e=>{if(e.length>1)for(o=s=e.length-1;o>0;o--)(n=e[o]-e[o-1])<0&&!r?(t?.(),t=void 0):n&&(void 0===i||n<i)&&(i=n)}),i},getMagnitude:M,getNestedProperty:function(e,t){let i=e.split(".");for(;i.length&&E(t);){let e=i.shift();if(void 0===e||"__proto__"===e)return;if("this"===e){let e;return w(t)&&(e=t["@this"]),e??t}let s=t[e.replace(/[\\'"]/g,"")];if(!E(s)||"function"==typeof s||"number"==typeof s.nodeType||s===c)return;t=s}return t},getStyle:function e(t,i,s){let n;if("width"===i){let i=Math.min(t.offsetWidth,t.scrollWidth),s=t.getBoundingClientRect?.().width;return s<i&&s>=i-1&&(i=Math.floor(s)),Math.max(0,i-(e(t,"padding-left",!0)||0)-(e(t,"padding-right",!0)||0))}if("height"===i)return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(e(t,"padding-top",!0)||0)-(e(t,"padding-bottom",!0)||0));let o=c.getComputedStyle(t,void 0);return o&&(n=o.getPropertyValue(i),R(s,"opacity"!==i)&&(n=p(n))),n},insertItem:function(e,t){let i,s=e.options.index,n=t.length;for(i=e.options.isInternal?n:0;i<n+1;i++)if(!t[i]||C(s)&&s<R(t[i].options.index,t[i]._i)||t[i].options.isInternal){t.splice(i,0,e);break}return i},isArray:y,isClass:v,isDOMElement:b,isFunction:function(e){return"function"==typeof e},isNumber:C,isObject:w,isString:g,merge:function(e,...t){let i,s=[e,...t],n={},o=function(e,t){return"object"!=typeof e&&(e={}),L(t,function(i,s){"__proto__"!==s&&"constructor"!==s&&(!w(i,!0)||v(i)||b(i)?e[s]=t[s]:e[s]=o(e[s]||{},i))}),e};!0===e&&(n=s[1],s=Array.prototype.slice.call(s,2));let r=s.length;for(i=0;i<r;i++)n=o(n,s[i]);return n},normalizeTickInterval:function(e,t,i,s,n){let o,r=e;i=R(i,M(e));let l=e/i;for(!t&&(t=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===i?t=t.filter(function(e){return e%1==0}):i<=.1&&(t=[1/i]))),o=0;o<t.length&&(r=t[o],(!n||!(r*i>=e))&&(n||!(l<=(t[o]+(t[o+1]||t[o]))/2)));o++);return S(r*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:L,offset:function(e){let t=m.documentElement,i=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:i.top+(c.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(c.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:i.width,height:i.height}},pad:function(e,t,i){return Array((t||2)+1-String(e).replace("-","").length).join(i||"0")+e},pick:R,pInt:p,pushUnique:function(e,t){return 0>e.indexOf(t)&&!!e.push(t)},relativeLength:function(e,t,i){return/%$/.test(e)?t*parseFloat(e)/100+(i||0):parseFloat(e)},removeEvent:D,replaceNested:function(e,...t){let i,s;do for(s of(i=e,t))e=e.replace(s[0],s[1]);while(e!==i);return e},splat:x,stableSort:function(e,t){let i,s,n=e.length;for(s=0;s<n;s++)e[s].safeI=s;for(e.sort(function(e,s){return 0===(i=t(e,s))?e.safeI-s.safeI:i}),s=0;s<n;s++)delete e[s].safeI},syncTimeout:function(e,t,i){return t>0?setTimeout(e,t,i):(e.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(e){return g(e)?e.substring(0,1).toUpperCase()+e.substring(1):String(e)},uniqueKey:H,useSerialIds:function(t){return e=R(t,e)},wrap:function(e,t,i){let s=e[t];e[t]=function(){let e=arguments,t=this;return i.apply(this,[function(){return s.apply(t,arguments.length?arguments:e)}].concat([].slice.call(arguments)))}}},{SVG_NS:W,win:z}=d,{attr:F,createElement:P,css:j,error:U,isFunction:Y,isString:V,objectEach:B,splat:$}=I,{trustedTypes:_}=z,G=_&&Y(_.createPolicy)&&_.createPolicy("highcharts",{createHTML:e=>e}),q=G?G.createHTML(""):"";class K{static filterUserAttributes(e){return B(e,(t,i)=>{let s=!0;-1===K.allowedAttributes.indexOf(i)&&(s=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(s=V(t)&&K.allowedReferences.some(e=>0===t.indexOf(e))),s||(U(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete e[i]),V(t)&&e[i]&&(e[i]=t.replace(/</g,"&lt;"))}),e}static parseStyle(e){return e.split(";").reduce((e,t)=>{let i=t.split(":").map(e=>e.trim()),s=i.shift();return s&&i.length&&(e[s.replace(/-([a-z])/g,e=>e[1].toUpperCase())]=i.join(":")),e},{})}static setElementHTML(e,t){e.innerHTML=K.emptyHTML,t&&new K(t).addToDOM(e)}constructor(e){this.nodes="string"==typeof e?this.parseMarkup(e):e}addToDOM(e){return function e(t,i){let s;return $(t).forEach(function(t){let n,o=t.tagName,r=t.textContent?d.doc.createTextNode(t.textContent):void 0,l=K.bypassHTMLFiltering;if(o){if("#text"===o)n=r;else if(-1!==K.allowedTags.indexOf(o)||l){let s="svg"===o?W:i.namespaceURI||W,a=d.doc.createElementNS(s,o),h=t.attributes||{};B(t,function(e,t){"tagName"!==t&&"attributes"!==t&&"children"!==t&&"style"!==t&&"textContent"!==t&&(h[t]=e)}),F(a,l?h:K.filterUserAttributes(h)),t.style&&j(a,t.style),r&&a.appendChild(r),e(t.children||[],a),n=a}else U(33,!1,void 0,{"Invalid tagName in config":o})}n&&i.appendChild(n),s=n}),s}(this.nodes,e)}parseMarkup(e){let t,i=[];e=e.trim().replace(/ style=(["'])/g," data-style=$1");try{t=new DOMParser().parseFromString(G?G.createHTML(e):e,"text/html")}catch(e){}if(!t){let i=P("div");i.innerHTML=e,t={body:i}}let s=(e,t)=>{let i=e.nodeName.toLowerCase(),n={tagName:i};"#text"===i&&(n.textContent=e.textContent||"");let o=e.attributes;if(o){let e={};[].forEach.call(o,t=>{"data-style"===t.name?n.style=K.parseStyle(t.value):e[t.name]=t.value}),n.attributes=e}if(e.childNodes.length){let t=[];[].forEach.call(e.childNodes,e=>{s(e,t)}),t.length&&(n.children=t)}t.push(n)};return[].forEach.call(t.body.childNodes,e=>s(e,i)),i}}K.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],K.allowedReferences=["https://","http://","mailto:","/","../","./","#"],K.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],K.emptyHTML=q,K.bypassHTMLFiltering=!1;let{pageLang:Z,win:J}=d,{defined:X,error:Q,extend:ee,isNumber:et,isObject:ei,isString:es,merge:en,objectEach:eo,pad:er,splat:el,timeUnits:ea,ucfirst:eh}=I,ed=d.isSafari&&J.Intl&&!J.Intl.DateTimeFormat.prototype.formatRange,eu=e=>void 0===e.main,em=class{constructor(e,t){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=J.Date,this.update(e),this.lang=t}update(e={}){this.dTLCache={},this.options=e=en(!0,this.options,e);let{timezoneOffset:t,useUTC:i}=e;this.Date=e.Date||J.Date||Date;let s=e.timezone;X(i)&&(s=i?"UTC":void 0),t&&t%60==0&&(s="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone="UTC"!==s&&s?.indexOf("Etc/GMT")!==0,this.timezone=s,["months","shortMonths","weekdays","shortWeekdays"].forEach(e=>{let t=/months/i.test(e),i=/short/.test(e),s={timeZone:"UTC"};s[t?"month":"weekday"]=i?"short":"long",this[e]=(t?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(e=>this.dateFormat(s,(t?31:1)*24*36e5*e))})}toParts(e){let[t,i,s,n,o,r,l]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},e,"es").split(/(?:, | |\/|:)/g);return[n,+s-1,i,o,r,l,Math.floor(Number(e)||0)%1e3,"DLMXJVS".indexOf(t)].map(Number)}dateTimeFormat(e,t,i=this.options.locale||Z){let s=JSON.stringify(e)+i;es(e)&&(e=this.str2dtf(e));let n=this.dTLCache[s];if(!n){e.timeZone??(e.timeZone=this.timezone);try{n=new Intl.DateTimeFormat(i,e)}catch(t){/Invalid time zone/i.test(t.message)?(Q(34),e.timeZone="UTC",n=new Intl.DateTimeFormat(i,e)):Q(t.message,!1)}}return this.dTLCache[s]=n,n?.format(t)||""}str2dtf(e,t={}){let i={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(i).forEach(s=>{-1!==e.indexOf(s)&&ee(t,i[s])}),t}makeTime(e,t,i=1,s=0,n,o,r){let l=this.Date.UTC(e,t,i,s,n||0,o||0,r||0);if("UTC"!==this.timezone){let e=this.getTimezoneOffset(l);if(l+=e,-1!==[2,3,8,9,10,11].indexOf(t)&&(s<5||s>20)){let t=this.getTimezoneOffset(l);e!==t?l+=t-e:e-36e5!==this.getTimezoneOffset(l-36e5)||ed||(l-=36e5)}}return l}parse(e){if(!es(e))return e??void 0;let t=(e=e.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(e),i=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(e);t||i||(e+="Z");let s=Date.parse(e);if(et(s))return s+(!t||i?this.getTimezoneOffset(s):0)}getTimezoneOffset(e){if("UTC"!==this.timezone){let[t,i,s,n,o=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},e,"en").split(/(GMT|:)/).map(Number),r=-(36e5*(s+o/60));if(et(r))return r}return 0}dateFormat(e,t,i){let s=this.lang;if(!X(t)||isNaN(t))return s?.invalidDate||"";if(es(e=e??"%Y-%m-%d %H:%M:%S")){let i,n=/%\[([a-zA-Z]+)\]/g;for(;i=n.exec(e);)e=e.replace(i[0],this.dateTimeFormat(i[1],t,s?.locale))}if(es(e)&&-1!==e.indexOf("%")){let i=this,[n,o,r,l,a,h,u,m]=this.toParts(t),c=s?.weekdays||this.weekdays,f=s?.shortWeekdays||this.shortWeekdays,p=s?.months||this.months,g=s?.shortMonths||this.shortMonths;eo(ee({a:f?f[m]:c[m].substr(0,3),A:c[m],d:er(r),e:er(r,2," "),w:m,v:s?.weekFrom??"",b:g[o],B:p[o],m:er(o+1),o:o+1,y:n.toString().substr(2,2),Y:n,H:er(l),k:l,I:er(l%12||12),l:l%12||12,M:er(a),p:l<12?"AM":"PM",P:l<12?"am":"pm",S:er(h),L:er(u,3)},d.dateFormats),function(s,n){if(es(e))for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof s?s.call(i,t):s)})}else if(ei(e)){let i=(this.getTimezoneOffset(t)||0)/36e5,s=this.timezone||"Etc/GMT"+(i>=0?"+":"")+i,{prefix:n="",suffix:o=""}=e;e=n+this.dateTimeFormat(ee({timeZone:s},e),t)+o}return i?eh(e):e}resolveDTLFormat(e){return ei(e,!0)?ei(e,!0)&&eu(e)?{main:e}:e:{main:(e=el(e))[0],from:e[1],to:e[2]}}getDateFormat(e,t,i,s){let n=this.dateFormat("%m-%d %H:%M:%S.%L",t),o="01-01 00:00:00.000",r={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond",a=l;for(l in ea){if(e&&e===ea.week&&+this.dateFormat("%w",t)===i&&n.substr(6)===o.substr(6)){l="week";break}if(e&&ea[l]>e){l=a;break}if(r[l]&&n.substr(r[l])!==o.substr(r[l]))break;"week"!==l&&(a=l)}return this.resolveDTLFormat(s[l]).main}},{defined:ec,extend:ef,timeUnits:ep}=I,eg=class extends em{getTimeTicks(e,t,i,s){let n=this,o=[],r={},{count:l=1,unitRange:a}=e,[h,d,u,m,c,f]=n.toParts(t),p=(t||0)%1e3,g;if(s??(s=1),ec(t)){if(p=a>=ep.second?0:l*Math.floor(p/l),a>=ep.second&&(f=a>=ep.minute?0:l*Math.floor(f/l)),a>=ep.minute&&(c=a>=ep.hour?0:l*Math.floor(c/l)),a>=ep.hour&&(m=a>=ep.day?0:l*Math.floor(m/l)),a>=ep.day&&(u=a>=ep.month?1:Math.max(1,l*Math.floor(u/l))),a>=ep.month&&(d=a>=ep.year?0:l*Math.floor(d/l)),a>=ep.year&&(h-=h%l),a===ep.week){l&&(t=n.makeTime(h,d,u,m,c,f,p));let e=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"),i="DLMXJVS".indexOf(e);u+=-i+s+(i<s?-7:0)}t=n.makeTime(h,d,u,m,c,f,p),n.variableTimezone&&ec(i)&&(g=i-t>4*ep.month||n.getTimezoneOffset(t)!==n.getTimezoneOffset(i));let e=t,y=1;for(;e<i;)o.push(e),a===ep.year?e=n.makeTime(h+y*l,0):a===ep.month?e=n.makeTime(h,d+y*l):g&&(a===ep.day||a===ep.week)?e=n.makeTime(h,d,u+y*l*(a===ep.day?1:7)):g&&a===ep.hour&&l>1?e=n.makeTime(h,d,u,m+y*l):e+=a*l,y++;o.push(e),a<=ep.hour&&o.length<1e4&&o.forEach(e=>{e%18e5==0&&"000000000"===n.dateFormat("%H%M%S%L",e)&&(r[e]="day")})}return o.info=ef(e,{higherRanks:r,totalRange:a*l}),o}},{isTouchDevice:ey}=d,{fireEvent:ew,merge:eb}=I,ev={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:e=>Math.sqrt(1-Math.pow(e-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:ey?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},eC=new eg(ev.time,ev.lang),{defaultOptions:eE,defaultTime:eT}={defaultOptions:ev,defaultTime:eC,getOptions:function(){return ev},setOptions:function(e){return ew(d,"setOptions",{options:e}),eb(!0,ev,e),e.time&&eC.update(ev.time),e.lang&&"locale"in e.lang&&eC.update({locale:e.lang.locale}),e.lang?.chartTitle&&(ev.title={...ev.title,text:e.lang.chartTitle}),ev}},{pageLang:ex}=d,{extend:eO,getNestedProperty:eR,isArray:eN,isNumber:eM,isObject:eS,isString:eA,pick:eL,ucfirst:eD}=I,ek={add:(e,t)=>e+t,divide:(e,t)=>0!==t?e/t:"",eq:(e,t)=>e==t,each:function(e){let t=arguments[arguments.length-1];return!!eN(e)&&e.map((i,s)=>eW(t.body,eO(eS(i)?i:{"@this":i},{"@index":s,"@first":0===s,"@last":s===e.length-1}))).join("")},ge:(e,t)=>e>=t,gt:(e,t)=>e>t,if:e=>!!e,le:(e,t)=>e<=t,lt:(e,t)=>e<t,multiply:(e,t)=>e*t,ne:(e,t)=>e!=t,subtract:(e,t)=>e-t,ucfirst:eD,unless:e=>!e},eH={},eI=e=>/^["'].+["']$/.test(e);function eW(e="",t,i){let s=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,n=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,o=[],r=/f$/,l=/\.(\d)/,a=i?.options?.lang||eE.lang,h=i?.time||eT,d=i?.numberFormatter||ez,u=(e="")=>{let i;return"true"===e||"false"!==e&&((i=Number(e)).toString()===e?i:eI(e)?e.slice(1,-1):eR(e,t))},m,c,f=0,p;for(;null!==(m=s.exec(e));){let i=m,s=n.exec(m[1]);s&&(m=s,p=!0),c?.isBlock||(c={ctx:t,expression:m[1],find:m[0],isBlock:"#"===m[1].charAt(0),start:m.index,startInner:m.index+m[0].length,length:m[0].length});let r=(c.isBlock?i:m)[1].split(" ")[0].replace("#","");ek[r]&&(c.isBlock&&r===c.fn&&f++,c.fn||(c.fn=r));let l="else"===m[1];if(c.isBlock&&c.fn&&(m[1]===`/${c.fn}`||l)){if(f)!l&&f--;else{let t=c.startInner,i=e.substr(t,m.index-t);void 0===c.body?(c.body=i,c.startInner=m.index+m[0].length):c.elseBody=i,c.find+=i+m[0],l||(o.push(c),c=void 0)}}else c.isBlock||o.push(c);if(s&&!c?.isBlock)break}return o.forEach(s=>{let o,m,{body:c,elseBody:f,expression:p,fn:g}=s;if(g){let e=[s],n=[],r=p.length,l=0,a;for(m=0;m<=r;m++){let e=p.charAt(m);a||'"'!==e&&"'"!==e?a===e&&(a=""):a=e,a||" "!==e&&m!==r||(n.push(p.substr(l,m-l)),l=m+1)}for(m=ek[g].length;m--;)e.unshift(u(n[m+1]));o=ek[g].apply(t,e),s.isBlock&&"boolean"==typeof o&&(o=eW(o?c:f,t,i))}else{let e=eI(p)?[p]:p.split(":");if(o=u(e.shift()||""),e.length&&"number"==typeof o){let t=e.join(":");if(r.test(t)){let e=parseInt((t.match(l)||["","-1"])[1],10);null!==o&&(o=d(o,e,a.decimalPoint,t.indexOf(",")>-1?a.thousandsSep:""))}else o=h.dateFormat(t,o)}n.lastIndex=0,n.test(s.find)&&eA(o)&&(o=`"${o}"`)}e=e.replace(s.find,eL(o,""))}),p?eW(e,t,i):e}function ez(e,t,i,s){t*=1;let n,o,[r,l]=(e=+e||0).toString().split("e").map(Number),a=this?.options?.lang||eE.lang,h=(e.toString().split(".")[1]||"").split("e")[0].length,d=t,u={};i??(i=a.decimalPoint),s??(s=a.thousandsSep),-1===t?t=Math.min(h,20):eM(t)?t&&l<0&&((o=t+l)>=0?(r=+r.toExponential(o).split("e")[0],t=o):(r=Math.floor(r),e=t<20?+(r*Math.pow(10,l)).toFixed(t):0,l=0)):t=2,l&&(t??(t=2),e=r),eM(t)&&t>=0&&(u.minimumFractionDigits=t,u.maximumFractionDigits=t),""===s&&(u.useGrouping=!1);let m=s||i,c=m?"en":this?.locale||a.locale||ex,f=JSON.stringify(u)+c;return n=(eH[f]??(eH[f]=new Intl.NumberFormat(c,u))).format(e),m&&(n=n.replace(/([,\.])/g,"_$1").replace(/_\,/g,s??",").replace("_.",i??".")),(t||0!=+n)&&(!(l<0)||d)||(n="0"),l&&0!=+n&&(n+="e"+(l<0?"":"+")+l),n}let eF={dateFormat:function(e,t,i){return eT.dateFormat(e,t,i)},format:eW,helpers:ek,numberFormat:ez},{getStyle:eP}=I;class ej{constructor(e){this.columnWidths={},this.viewport=e}loadColumns(){let{columns:e}=this.viewport;for(let t=0,i=e.length;t<i;++t)this.loadColumn(e[t])}reflow(){if("full"===this.type)return;let e=this.viewport,t=0;for(let i=0,s=e.columns.length;i<s;++i)t+=this.getColumnWidth(e.columns[i]);e.rowsWidth=t}exportMetadata(){return{type:this.type,columnWidths:this.columnWidths}}importMetadata(e,t){let i,{enabledColumns:s}=this.viewport.grid,n=Object.keys(e.columnWidths);if(!this.invalidated&&this.type===e.type&&s?.length)for(let o=0,r=n.length;o<r;++o)i=n[o],-1!==s.indexOf(i)&&(this.columnWidths[i]=e.columnWidths[i],t?.(i))}validateOnUpdate(e){Object.hasOwnProperty.call(e.rendering?.columns||{},"distribution")&&e.rendering?.columns?.distribution!==this.type&&(this.invalidated=!0)}static getMinWidth(e){let t=e.cells[0]?.htmlElement,i=e.header?.htmlElement,s=e=>(eP(e,"padding-left",!0)||0)+(eP(e,"padding-right",!0)||0)+(eP(e,"border-left",!0)||0)+(eP(e,"border-right",!0)||0),n=ej.MIN_COLUMN_WIDTH;return t&&(n=Math.max(n,s(t))),i&&(n=Math.max(n,s(i))),n}}ej.MIN_COLUMN_WIDTH=20;let eU=ej,{defined:eY}=I,eV=class extends eU{constructor(){super(...arguments),this.type="mixed",this.columnWidthUnits={}}loadColumn(e){let t,i=e.options.width;if(!i)return;let s=0;"number"==typeof i?(t=i,s=0):(t=parseFloat(i),s=+("%"===i.charAt(i.length-1))),this.columnWidthUnits[e.id]=s,this.columnWidths[e.id]=t}getColumnWidth(e){let t=this.viewport,i=this.columnWidths[e.id],s=eU.getMinWidth(e);return eY(i)?0===this.columnWidthUnits[e.id]?i:Math.max(t.getWidthFromRatio(i/100),s):Math.max((t.tbodyElement.clientWidth-this.calculateOccupiedWidth())/((t.grid.enabledColumns?.length||0)-Object.keys(this.columnWidths).length),s)}resize(e,t){let i=this.viewport,s=e.draggedColumn;if(!s)return;let n=e.columnStartWidth??0,o=eU.getMinWidth(s),r=i.columns[s.index+1],l=Math.max(n+t,o);this.columnWidths[s.id]=l,this.columnWidthUnits[s.id]=0,r&&(this.columnWidths[r.id]=Math.max((e.nextColumnStartWidth??0)+n-l,o),this.columnWidthUnits[r.id]=0)}calculateOccupiedWidth(){let e,t,i=this.viewport,s=0,n=Object.keys(this.columnWidths);for(let o=0,r=n.length;o<r;++o){if(t=n[o],0===this.columnWidthUnits[t]){s+=this.columnWidths[t];continue}e=this.columnWidths[t],s+=i.getWidthFromRatio(e/100)}return s}exportMetadata(){return{...super.exportMetadata(),columnWidthUnits:this.columnWidthUnits}}importMetadata(e){super.importMetadata(e,t=>{let i=e.columnWidthUnits[t];eY(i)&&(this.columnWidthUnits[t]=i)})}validateOnUpdate(e){super.validateOnUpdate(e),!this.invalidated&&(Object.hasOwnProperty.call(e.columnDefaults||{},"width")||e.columns?.some(e=>Object.hasOwnProperty.call(e||{},"width")))&&(this.invalidated=!0)}};!function(e){e.classNamePrefix="hcg-",e.rawClassNames={container:"container",tableElement:"table",captionElement:"caption",descriptionElement:"description",theadElement:"thead",tbodyElement:"tbody",rowElement:"row",rowEven:"row-even",rowOdd:"row-odd",hoveredRow:"hovered-row",columnElement:"column",hoveredCell:"hovered-cell",hoveredColumn:"hovered-column",syncedRow:"synced-row",syncedCell:"synced-cell",syncedColumn:"synced-column",editedCell:"edited-cell",mockedRow:"mocked-row",rowsContentNowrap:"rows-content-nowrap",virtualization:"virtualization",scrollableContent:"scrollable-content",headerCell:"header-cell",headerCellContent:"header-cell-content",headerRow:"head-row-content",noData:"no-data",columnFirst:"column-first",columnSortable:"column-sortable",columnSortableIcon:"column-sortable-icon",columnSortedAsc:"column-sorted-asc",columnSortedDesc:"column-sorted-desc",resizableContent:"resizable-content",resizerHandles:"column-resizer",resizedColumn:"column-resized",creditsContainer:"credits-container",creditsText:"credits",creditsPro:"credits-pro",visuallyHidden:"visually-hidden",lastHeaderCellInRow:"last-header-cell-in-row",loadingWrapper:"loading-wrapper",loadingSpinner:"spinner",loadingMessage:"loading-message"},e.win=window,e.composed=[],e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.getClassName=t=>e.classNamePrefix+e.rawClassNames[t]}(i||(i={}));let eB=i;K.allowedAttributes.push("srcset","media"),K.allowedTags.push("picture","source"),function(e){function t(e,t,i){let s=document.createElement(e);if(t){let e=Object.keys(t);for(let i=0;i<e.length;i++){let n=e[i],o=t[n];void 0!==o&&("style"===n?Object.assign(s.style,o):s[n]=o)}}return i&&i.appendChild(s),s}function i(e){return -1!==e.indexOf("<")}e.makeHTMLElement=t,e.makeDiv=function(e,i){return t("div",{className:e,id:i})},e.isHTML=i,e.sanitizeText=function(e){try{return new DOMParser().parseFromString(e,"text/html").body.textContent||""}catch(e){return""}},e.setHTMLContent=function(e,t){i(t)?new K(t).addToDOM(e):e.innerText=t}}(s||(s={}));let e$=s,{makeHTMLElement:e_}=e$,eG=class extends eU{constructor(){super(...arguments),this.type="fixed"}loadColumn(e){this.columnWidths[e.id]=this.getInitialColumnWidth(e)}getColumnWidth(e){return this.columnWidths[e.id]}resize(e,t){let i=e.draggedColumn;i&&(this.columnWidths[i.id]=Math.max((e.columnStartWidth||0)+t,eU.getMinWidth(i)))}getInitialColumnWidth(e){let{viewport:t}=this,i=e_("div",{className:eB.getClassName("columnElement")},t.grid.container);i.setAttribute("data-column-id",e.id),e.options.className&&i.classList.add(...e.options.className.split(/\s+/g));let s=i.offsetWidth||100;return i.remove(),s}},{makeHTMLElement:eq}=e$,eK=class extends eU{constructor(){super(...arguments),this.type="full",this.allPreviousWidths=0}loadColumn(e){let t=this.getInitialColumnWidth(e);this.allPreviousWidths+=t,this.columnWidths[e.id]=t}getColumnWidth(e){return this.viewport.getWidthFromRatio(this.columnWidths[e.id]||0)}resize(e,t){let i=this.viewport,s=e.draggedColumn;if(!s)return;let n=i.columns[s.index+1];if(!n)return;let o=e.columnStartWidth??0,r=e.nextColumnStartWidth??0,l=eU.getMinWidth(s),a=o+t,h=r-t;a<l&&(a=l,h=o+r-l),h<l&&(h=l,a=o+r-l),this.columnWidths[s.id]=i.getRatioFromWidth(a),this.columnWidths[n.id]=i.getRatioFromWidth(h)}getInitialFullDistWidth(e,t){let i=e.viewport,s=i.grid.enabledColumns?.length??0;if(e.index<s-1)return i.getRatioFromWidth(t.offsetWidth)||1/s;let n=1-this.allPreviousWidths;return n<0&&console.warn("The sum of the columns' widths exceeds the viewport width. It may cause unexpected behavior in the full distribution mode. Check the CSS styles of the columns. Corrections may be needed."),n}getInitialColumnWidth(e){let{viewport:t}=e,i=eq("div",{className:eB.getClassName("columnElement")},t.grid.container);i.setAttribute("data-column-id",e.id),e.options.className&&i.classList.add(...e.options.className.split(/\s+/g));let s=this.getInitialFullDistWidth(e,i);return i.remove(),s}importMetadata(e){Object.keys(e.columnWidths).length===this.viewport.grid.enabledColumns?.length&&super.importMetadata(e)}},{defined:eZ}=I;!function(e){e.AbstractStrategy=eU,e.types={mixed:eV,fixed:eG,full:eK},e.initStrategy=function(t){return new e.types[function(e){let{options:t}=e.grid,i=t?.rendering?.columns?.distribution;return i||(t?.columns?.some(e=>eZ(e.width))||eZ(t?.columnDefaults?.width)?"mixed":"full")}(t)](t)}}(n||(n={}));let eJ=n,{addEvent:eX,fireEvent:eQ,merge:e0}=I;class e1{benchmark(e,t){let i=[],s=this,n=()=>{s.modifyTable(e),s.emit({type:"afterBenchmarkIteration"})},{iterations:o}=e0({iterations:1},t);s.on("afterBenchmarkIteration",()=>{if(i.length===o){s.emit({type:"afterBenchmark",results:i});return}n()});let r={startTime:0,endTime:0};return s.on("modify",()=>{r.startTime=window.performance.now()}),s.on("afterModify",()=>{r.endTime=window.performance.now(),i.push(r.endTime-r.startTime)}),n(),i}emit(e){eQ(this,e.type,e)}modify(e,t){let i=this;return new Promise((s,n)=>{e.modified===e&&(e.modified=e.clone(!1,t));try{s(i.modifyTable(e,t))}catch(s){i.emit({type:"error",detail:t,table:e}),n(s)}})}modifyCell(e,t,i,s,n){return this.modifyTable(e)}modifyColumns(e,t,i,s){return this.modifyTable(e)}modifyRows(e,t,i,s){return this.modifyTable(e)}on(e,t){return eX(this,e,t)}}!function(e){e.types={},e.registerType=function(t,i){return!!t&&!e.types[t]&&!!(e.types[t]=i)}}(e1||(e1={}));let e2=e1;!function(e){e.setLength=function(e,t,i){return Array.isArray(e)?(e.length=t,e):e[i?"subarray":"slice"](0,t)},e.splice=function(e,t,i,s,n=[]){if(Array.isArray(e))return Array.isArray(n)||(n=Array.from(n)),{removed:e.splice(t,i,...n),array:e};let o=Object.getPrototypeOf(e).constructor,r=e[s?"subarray":"slice"](t,t+i),l=new o(e.length-i+n.length);return l.set(e.subarray(0,t),0),l.set(n,t),l.set(e.subarray(t+i),t+n.length),{removed:r,array:l}}}(o||(o={}));let e3=o,{setLength:e6,splice:e5}=e3,{fireEvent:e4,objectEach:e9,uniqueKey:e8}=I,e7=class{constructor(e={}){this.autoId=!e.id,this.columns={},this.id=e.id||e8(),this.modified=this,this.rowCount=0,this.versionTag=e8(),this.columnNames=e.columnNames,this.firstRowAsNames=e.firstRowAsNames,this.orientation=e.orientation,this.dataModifier=e.dataModifier,this.beforeParse=e.beforeParse;let t=0;e9(e.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(e){this.rowCount=e,e9(this.columns,(t,i)=>{t.length!==e&&(this.columns[i]=e6(t,e))})}deleteRows(e,t=1){if(t>0&&e<this.rowCount){let i=0;e9(this.columns,(s,n)=>{this.columns[n]=e5(s,e,t).array,i=s.length}),this.rowCount=i}e4(this,"afterDeleteRows",{rowIndex:e,rowCount:t}),this.versionTag=e8()}getColumn(e,t){return this.columns[e]}getColumns(e,t){return(e||Object.keys(this.columns)).reduce((e,t)=>(e[t]=this.columns[t],e),{})}getRow(e,t){return(t||Object.keys(this.columns)).map(t=>this.columns[t]?.[e])}setColumn(e,t=[],i=0,s){this.setColumns({[e]:t},i,s)}setColumns(e,t,i){let s=this.rowCount;e9(e,(e,t)=>{this.columns[t]=e.slice(),s=e.length}),this.applyRowCount(s),i?.silent||(e4(this,"afterSetColumns"),this.versionTag=e8())}setRow(e,t=this.rowCount,i,s){let{columns:n}=this,o=i?this.rowCount+1:t+1;e9(e,(e,r)=>{let l=n[r]||s?.addColumns!==!1&&Array(o);l&&(i?l=e5(l,t,0,!0,[e]).array:l[t]=e,n[r]=l)}),o>this.rowCount&&this.applyRowCount(o),s?.silent||(e4(this,"afterSetRows"),this.versionTag=e8())}},{addEvent:te,defined:tt,extend:ti,fireEvent:ts,isNumber:tn,uniqueKey:to}=I;class tr extends e7{static isNull(e){if(e===tr.NULL)return!0;if(e instanceof Array){if(!e.length)return!1;for(let t=0,i=e.length;t<i;++t)if(null!==e[t])return!1}else{let t=Object.keys(e);if(!t.length)return!1;for(let i=0,s=t.length;i<s;++i)if(null!==e[t[i]])return!1}return!0}constructor(e={}){super(e),this.modified=this}clone(e,t){let i={};this.emit({type:"cloneTable",detail:t}),e||(i.columns=this.columns),this.autoId||(i.id=this.id);let s=new tr(i);return e||(s.versionTag=this.versionTag,s.originalRowIndexes=this.originalRowIndexes,s.localRowIndexes=this.localRowIndexes),this.emit({type:"afterCloneTable",detail:t,tableClone:s}),s}deleteColumns(e,t){let i=this.columns,s={},n={},o=this.modifier,r=this.rowCount;if((e=e||Object.keys(i)).length){this.emit({type:"deleteColumns",columnNames:e,detail:t});for(let t=0,o=e.length,l,a;t<o;++t)(l=i[a=e[t]])&&(s[a]=l,n[a]=Array(r)),delete i[a];return Object.keys(i).length||(this.rowCount=0,this.deleteRowIndexReferences()),o&&o.modifyColumns(this,n,0,t),this.emit({type:"afterDeleteColumns",columns:s,columnNames:e,detail:t}),s}}deleteRowIndexReferences(){delete this.originalRowIndexes,delete this.localRowIndexes}deleteRows(e,t=1,i){let s=[],n=[],o=this.modifier;if(this.emit({type:"deleteRows",detail:i,rowCount:t,rowIndex:e||0}),void 0===e&&(e=0,t=this.rowCount),t>0&&e<this.rowCount){let i=this.columns,o=Object.keys(i);for(let r=0,l=o.length,a,h,d;r<l;++r){a=i[d=o[r]];let u=e3.splice(a,e,t);h=u.removed,i[d]=a=u.array,r||(this.rowCount=a.length);for(let e=0,t=h.length;e<t;++e)s[e]=s[e]||[],s[e][r]=h[e];n.push(Array(l))}}return o&&o.modifyRows(this,n,e||0,i),this.emit({type:"afterDeleteRows",detail:i,rowCount:t,rowIndex:e||0,rows:s}),s}emit(e){["afterDeleteColumns","afterDeleteRows","afterSetCell","afterSetColumns","afterSetRows"].includes(e.type)&&(this.versionTag=to()),ts(this,e.type,e)}getCell(e,t){let i=this.columns[e];if(i)return i[t]}getCellAsBoolean(e,t){let i=this.columns[e];return!!(i&&i[t])}getCellAsNumber(e,t,i){let s=this.columns[e],n=s&&s[t];switch(typeof n){case"boolean":return+!!n;case"number":return isNaN(n)&&!i?null:n}return isNaN(n=parseFloat(`${n??""}`))&&!i?null:n}getCellAsString(e,t){let i=this.columns[e];return`${i&&i[t]}`}getColumn(e,t){return this.getColumns([e],t)[e]}getColumnAsNumbers(e,t){let i=this.columns[e],s=[];if(i){let n=i.length;if(t)for(let t=0;t<n;++t)s.push(this.getCellAsNumber(e,t,!0));else{for(let e=0,t;e<n;++e){if("number"==typeof(t=i[e]))return i.slice();if(null!=t)break}for(let t=0;t<n;++t)s.push(this.getCellAsNumber(e,t))}}return s}getColumnNames(){return Object.keys(this.columns)}getColumns(e,t,i){let s=this.columns,n={};e=e||Object.keys(s);for(let o=0,r=e.length,l,a;o<r;++o)(l=s[a=e[o]])&&(t?n[a]=l:i&&!Array.isArray(l)?n[a]=Array.from(l):n[a]=l.slice());return n}getLocalRowIndex(e){let{localRowIndexes:t}=this;return t?t[e]:e}getModifier(){return this.modifier}getOriginalRowIndex(e){let{originalRowIndexes:t}=this;return t?t[e]:e}getRow(e,t){return this.getRows(e,1,t)[0]}getRowCount(){return this.rowCount}getRowIndexBy(e,t,i){let s=this.columns[e];if(s){let e=-1;if(Array.isArray(s)?e=s.indexOf(t,i):tn(t)&&(e=s.indexOf(t,i)),-1!==e)return e}}getRowObject(e,t){return this.getRowObjects(e,1,t)[0]}getRowObjects(e=0,t=this.rowCount-e,i){let s=this.columns,n=Array(t);i=i||Object.keys(s);for(let o=e,r=0,l=Math.min(this.rowCount,e+t),a,h;o<l;++o,++r)for(let e of(h=n[r]={},i))a=s[e],h[e]=a?a[o]:void 0;return n}getRows(e=0,t=this.rowCount-e,i){let s=this.columns,n=Array(t);i=i||Object.keys(s);for(let o=e,r=0,l=Math.min(this.rowCount,e+t),a,h;o<l;++o,++r)for(let e of(h=n[r]=[],i))a=s[e],h.push(a?a[o]:void 0);return n}getVersionTag(){return this.versionTag}hasColumns(e){let t=this.columns;for(let i=0,s=e.length;i<s;++i)if(!t[e[i]])return!1;return!0}hasRowWith(e,t){let i=this.columns[e];return Array.isArray(i)?-1!==i.indexOf(t):!!(tt(t)&&Number.isFinite(t))&&-1!==i.indexOf(+t)}on(e,t){return te(this,e,t)}renameColumn(e,t){let i=this.columns;return!!i[e]&&(e!==t&&(i[t]=i[e],delete i[e]),!0)}setCell(e,t,i,s){let n=this.columns,o=this.modifier,r=n[e];(!r||r[t]!==i)&&(this.emit({type:"setCell",cellValue:i,columnName:e,detail:s,rowIndex:t}),r||(r=n[e]=Array(this.rowCount)),t>=this.rowCount&&(this.rowCount=t+1),r[t]=i,o&&o.modifyCell(this,e,t,i),this.emit({type:"afterSetCell",cellValue:i,columnName:e,detail:s,rowIndex:t}))}setColumns(e,t,i,s){let n=this.columns,o=this.modifier,r=Object.keys(e),l=this.rowCount;if(this.emit({type:"setColumns",columns:e,columnNames:r,detail:i,rowIndex:t}),tt(t)||s){for(let i=0,o=r.length,a,h,d,u;i<o;++i){a=e[d=r[i]],u=Object.getPrototypeOf((h=n[d])&&s?h:a).constructor,h?u===Array?Array.isArray(h)||(h=Array.from(h)):h.length<l&&(h=new u(l)).set(n[d]):h=new u(l),n[d]=h;for(let e=t||0,i=a.length;e<i;++e)h[e]=a[e];l=Math.max(l,a.length)}this.applyRowCount(l)}else super.setColumns(e,t,ti(i,{silent:!0}));o&&o.modifyColumns(this,e,t||0),this.emit({type:"afterSetColumns",columns:e,columnNames:r,detail:i,rowIndex:t})}setModifier(e,t){let i,s=this;return s.emit({type:"setModifier",detail:t,modifier:e,modified:s.modified}),s.modified=s,s.modifier=e,(e?e.modify(s):Promise.resolve(s)).then(i=>(i.emit({type:"afterSetModifier",detail:t,modifier:e,modified:i.modified}),i)).catch(t=>{throw s.emit({type:"setModifierError",error:t,modifier:e,modified:s.modified}),t})}setOriginalRowIndexes(e,t=!1){if(this.originalRowIndexes=e,t)return;let i=this.localRowIndexes=[];for(let t=0,s=e.length,n;t<s;++t)tt(n=e[t])&&(i[n]=t)}setRow(e,t,i,s){this.setRows([e],t,i,s)}setRows(e,t=this.rowCount,i,s){let n=this.columns,o=Object.keys(n),r=this.modifier,l=e.length;this.emit({type:"setRows",detail:s,rowCount:l,rowIndex:t,rows:e});for(let s=0,r=t,a;s<l;++s,++r)if((a=e[s])===tr.NULL)for(let e=0,t=o.length;e<t;++e){let t=n[o[e]];i?n[o[e]]=e3.splice(t,r,0,!0,[null]).array:t[r]=null}else if(a instanceof Array)for(let e=0,t=o.length;e<t;++e)n[o[e]][r]=a[e];else super.setRow(a,r,void 0,{silent:!0});let a=i?l+e.length:t+l;if(a>this.rowCount){this.rowCount=a;for(let e=0,t=o.length;e<t;++e){let t=o[e];n[t]=e3.setLength(n[t],a)}}r&&r.modifyRows(this,e,t),this.emit({type:"afterSetRows",detail:s,rowCount:l,rowIndex:t,rows:e})}}tr.NULL={},tr.version="1.0.0";let{addEvent:tl,fireEvent:ta,merge:th,pick:td}=I;class tu{constructor(e={},t=[]){this.dataTables={},this.metadata=e.metadata||{columns:{}};let i=0;if(t?.length>0)for(let e=0,s=t.length;e<s;++e){let s=t[e],n=s?.key;this.dataTables[n??i]=new tr(s),!n&&i++}else this.dataTables[0]=new tr(e.dataTable)}get polling(){return!!this._polling}get table(){return this.getTable()}describeColumn(e,t){let i=this.metadata.columns;i[e]=th(i[e]||{},t)}describeColumns(e){let t,i=Object.keys(e);for(;"string"==typeof(t=i.pop());)this.describeColumn(t,e[t])}emit(e){ta(this,e.type,e)}getColumnOrder(e){let t=this.metadata.columns,i=Object.keys(t||{});if(i.length)return i.sort((e,i)=>td(t[e].index,0)-td(t[i].index,0))}getTable(e){return e?this.dataTables[e]:Object.values(this.dataTables)[0]}getSortedColumns(e){return this.table.getColumns(this.getColumnOrder(e))}load(){return ta(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(e,t){return tl(this,e,t)}save(){return ta(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))}setColumnOrder(e){for(let t=0,i=e.length;t<i;++t)this.describeColumn(e[t],{index:t})}async setModifierOptions(e){for(let t of Object.values(this.dataTables)){let i=th(t.dataModifier,e),s=i&&e2.types[i.type];await t.setModifier(s?new s(i):void 0)}return this}startPolling(e=1e3){let t=this,i=t.dataTables;this.pollingController=new AbortController,window.clearTimeout(t._polling),t._polling=window.setTimeout(()=>t.load().catch(e=>t.emit({type:"loadError",error:e,tables:i})).then(()=>{t._polling&&t.startPolling(e)}),e)}stopPolling(){this?.pollingController?.abort(),window.clearTimeout(this._polling),delete this._polling}whatIs(e){return this.metadata.columns[e]}initConverters(e,t,i){let s=0;for(let[n,o]of Object.entries(this.dataTables)){let r=t(n,o);i(r,e),o.deleteColumns(),o.setColumns(r.getTable().getColumns()),0===s&&(this.converter=r),s++}}}!function(e){e.types={},e.registerType=function(t,i){return!!t&&!e.types[t]&&!!(e.types[t]=i)}}(tu||(tu={}));let tm=tu,{addEvent:tc,fireEvent:tf,isNumber:tp,merge:tg}=I;class ty{constructor(e){this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})([\-\.\/])(\d{1,2})\2(\d{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[3]-1,+e[4]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(e){return e?Date.UTC(+e[4],e[3]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(e){return e?Date.UTC(+e[4],e[1]-1,+e[3]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(e){let t=new Date;if(!e)return NaN;let i=+e[4];return i>t.getFullYear()-2e3?i+=1900:i+=2e3,Date.UTC(i,e[3]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(e){return e?Date.UTC(+e[4]+2e3,e[1]-1,+e[3]):NaN}}};let t=tg(ty.defaultOptions,e),i=t.decimalPoint;("."===i||","===i)&&(i="."===i?"\\.":",",this.decimalRegExp=RegExp("^(-?[0-9]+)"+i+"([0-9]+)$")),this.options=t}asBoolean(e){return"boolean"==typeof e?e:"string"==typeof e?""!==e&&"0"!==e&&"false"!==e:!!this.asNumber(e)}asDate(e){let t;if("string"==typeof e)t=this.parseDate(e);else if("number"==typeof e)t=e;else{if(e instanceof Date)return e;t=this.parseDate(this.asString(e))}return new Date(t)}asGuessedType(e){return({number:this.asNumber,Date:this.asDate,string:this.asString})[this.guessType(e)].call(this,e)}asNumber(e){if("number"==typeof e)return e;if("boolean"==typeof e)return+!!e;if("string"==typeof e){let t=this.decimalRegExp;if(e.indexOf(" ")>-1&&(e=e.replace(/\s+/g,"")),t){if(!t.test(e))return NaN;e=e.replace(t,"$1.$2")}return parseFloat(e)}return e instanceof Date?e.getDate():e?e.getRowCount():NaN}asString(e){return""+e}deduceDateFormat(e,t,i){let s=[],n=[],o="YYYY/mm/dd",r,l=[],a=0,h=!1,d,u;for((!t||t>e.length)&&(t=e.length);a<t;a++)if(void 0!==e[a]&&e[a]&&e[a].length)for(u=0,r=e[a].trim().replace(/[\-\.\/]/g," ").split(" "),l=["","",""];u<r.length;u++)u<l.length&&(d=parseInt(r[u],10))&&(n[u]=!n[u]||n[u]<d?d:n[u],void 0!==s[u]?s[u]!==d&&(s[u]=!1):s[u]=d,d>31?d<100?l[u]="YY":l[u]="YYYY":d>12&&d<=31?(l[u]="dd",h=!0):l[u].length||(l[u]="mm"));if(h){for(u=0;u<s.length;u++)!1!==s[u]?n[u]>12&&"YY"!==l[u]&&"YYYY"!==l[u]&&(l[u]="YY"):n[u]>12&&"mm"===l[u]&&(l[u]="dd");3===l.length&&"dd"===l[1]&&"dd"===l[2]&&(l[2]="YY"),o=l.join("/")}return i&&(this.options.dateFormat=o),o}emit(e){tf(this,e.type,e)}export(e,t){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")}getTable(){throw Error("Not implemented")}guessType(e){let t="string";if("string"==typeof e){let i=this.trim(`${e}`),s=this.decimalRegExp,n=this.trim(i,!0);s&&(n=s.test(n)?n.replace(s,"$1.$2"):"");let o=parseFloat(n);+n===o?e=o:t=tp(this.parseDate(e))?"Date":"string"}return"number"==typeof e&&(t=e>31536e6?"Date":"number"),t}on(e,t){return tc(this,e,t)}parse(e){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")}parseDate(e,t){let i=this.options,s=t||i.dateFormat,n=NaN,o,r,l;if(i.parseDate)n=i.parseDate(e);else{if(s)(r=this.dateFormats[s])||(r=this.dateFormats["YYYY/mm/dd"]),(l=e.match(r.regex))&&(n=r.parser(l));else for(o in this.dateFormats)if(r=this.dateFormats[o],l=e.match(r.regex)){s=o,n=r.parser(l);break}!l&&("object"==typeof(l=Date.parse(e))&&null!==l&&l.getTime?n=l.getTime()-6e4*l.getTimezoneOffset():tp(l)&&(n=l-6e4*new Date(l).getTimezoneOffset(),-1===e.indexOf("2001")&&2001===new Date(n).getFullYear()&&(n=NaN)))}return n}trim(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^[\d\s]+$/.test(e)&&(e=e.replace(/\s/g,""))),e}}ty.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},function(e){e.types={},e.registerType=function(t,i){return!!t&&!e.types[t]&&!!(e.types[t]=i)},e.getTableFromColumns=function(e=[],t=[]){let i=new tr;for(let s=0,n=Math.max(t.length,e.length);s<n;++s)i.setColumn(t[s]||`${s}`,e[s]);return i}}(ty||(ty={}));let tw=ty;class tb{constructor(e={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=e}addListener(e,t,i){let s=this.listenerMap[e]=this.listenerMap[e]||{};return(s[t]=s[t]||[]).push(i),this}buildEmittingTag(e){return("position"===e.cursor.type?[e.table.id,e.cursor.column,e.cursor.row,e.cursor.state,e.cursor.type]:[e.table.id,e.cursor.columns,e.cursor.firstRow,e.cursor.lastRow,e.cursor.state,e.cursor.type]).join("\0")}emitCursor(e,t,i,s){let n=e.id,o=t.state,r=this.listenerMap[n]&&this.listenerMap[n][o];if(r){let o=this.stateMap[n]=this.stateMap[n]??{},l=o[t.state]||[];s&&(l.length||(o[t.state]=l),-1===tb.getIndex(t,l)&&l.push(t));let a={cursor:t,cursors:l,table:e};i&&(a.event=i);let h=this.emittingRegister,d=this.buildEmittingTag(a);if(h.indexOf(d)>=0)return this;try{this.emittingRegister.push(d);for(let e=0,t=r.length;e<t;++e)r[e].call(this,a)}finally{let e=this.emittingRegister.indexOf(d);e>=0&&this.emittingRegister.splice(e,1)}}return this}remitCursor(e,t){let i=this.stateMap[e]&&this.stateMap[e][t.state];if(i){let e=tb.getIndex(t,i);e>=0&&i.splice(e,1)}return this}removeListener(e,t,i){let s=this.listenerMap[e]&&this.listenerMap[e][t];if(s){let e=s.indexOf(i);e>=0&&s.splice(e,1)}return this}}tb.version="1.0.0",function(e){function t(e,t){if("range"===e.type)return e;let i={type:"range",firstRow:e.row??(t&&t.firstRow)??0,lastRow:e.row??(t&&t.lastRow)??Number.MAX_VALUE,state:e.state};return void 0!==e.column&&(i.columns=[e.column]),i}e.getIndex=function(e,t){if("position"===e.type){for(let i,s=0,n=t.length;s<n;++s)if("position"===(i=t[s]).type&&i.state===e.state&&i.column===e.column&&i.row===e.row)return s}else{let i=JSON.stringify(e.columns);for(let s,n=0,o=t.length;n<o;++n)if("range"===(s=t[n]).type&&s.state===e.state&&s.firstRow===e.firstRow&&s.lastRow===e.lastRow&&JSON.stringify(s.columns)===i)return n}return -1},e.isEqual=function(e,t){return"position"===e.type&&"position"===t.type?e.column===t.column&&e.row===t.row&&e.state===t.state:"range"===e.type&&"range"===t.type&&e.firstRow===t.firstRow&&e.lastRow===t.lastRow&&JSON.stringify(e.columns)===JSON.stringify(t.columns)},e.isInRange=function(e,i){"position"===i.type&&(i=t(i)),"position"===e.type&&(e=t(e,i));let s=e.columns,n=i.columns;return e.firstRow>=i.firstRow&&e.lastRow<=i.lastRow&&(!s||!n||s.every(e=>n.indexOf(e)>=0))},e.toPositions=function(e){if("position"===e.type)return[e];let t=e.columns||[],i=[],s=e.state;for(let n=e.firstRow,o=e.lastRow;n<o;++n){if(!t.length){i.push({type:"position",row:n,state:s});continue}for(let e=0,o=t.length;e<o;++e)i.push({type:"position",column:t[e],row:n,state:s})}return i},e.toRange=t}(tb||(tb={}));let tv=tb,{doc:tC,isMS:tE,win:tT}=d,tx={isHighContrastModeActive:function(){if(tE&&tT.getComputedStyle){let e=tC.createElement("div");e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",tC.body.appendChild(e);let t=(e.currentStyle||tT.getComputedStyle(e)).backgroundImage;return tC.body.removeChild(e),"none"===t}return tT.matchMedia&&tT.matchMedia("(forced-colors: active)").matches}},{makeHTMLElement:tO}=e$,tR=class{constructor(e){this.grid=e,this.element=document.createElement("div"),this.element.classList.add(eB.getClassName("visuallyHidden")),this.grid.container?.prepend(this.element),this.announcerElement=document.createElement("p"),this.announcerElement.setAttribute("aria-atomic","true"),this.announcerElement.setAttribute("aria-hidden","false")}addSortableColumnHint(e){let t=this.grid.options?.lang?.accessibility?.sorting?.sortable;t&&tO("span",{className:eB.getClassName("visuallyHidden"),innerText:", "+t},e)}addHeaderCellDescription(e,t){t&&e.setAttribute("aria-description",t)}announce(e,t=!1){this.announcerTimeout&&clearTimeout(this.announcerTimeout),this.announcerElement.remove(),this.announcerElement.setAttribute("aria-live",t?"assertive":"polite"),this.element.appendChild(this.announcerElement),this.announcerElement.textContent=e,this.announcerTimeout=setTimeout(()=>{this.announcerElement.remove()},3e3)}userSortedColumn(e){let t,{options:i}=this.grid,s=i?.lang?.accessibility?.sorting?.announcements;if(i?.accessibility?.announcements?.sorting){switch(e){case"asc":t=s?.ascending;break;case"desc":t=s?.descending;break;default:t=s?.none}t&&this.announce(t,!0)}}setColumnSortState(e,t){e?.setAttribute("aria-sort",t)}addHighContrast(){let e=this.grid.options?.accessibility?.highContrastMode;!1!==e&&(tx.isHighContrastModeActive()||!0===e)&&this.grid.contentWrapper?.classList.add("hcg-theme-highcontrast")}setRowIndex(e,t){e.setAttribute("aria-rowindex",t)}setA11yOptions(){let e=this.grid,t=e.tableElement;t&&(t.setAttribute("aria-rowcount",e.dataTable?.getRowCount()||0),e.captionElement&&t.setAttribute("aria-labelledby",e.captionElement.id),e.descriptionElement&&t.setAttribute("aria-describedby",e.descriptionElement.id),this.addHighContrast())}destroy(){this.element.remove(),this.announcerElement.remove(),clearTimeout(this.announcerTimeout)}},{merge:tN}=I;!function(e){e.defaultOptions={accessibility:{enabled:!0,highContrastMode:"auto",announcements:{sorting:!0}},lang:{accessibility:{sorting:{sortable:"Sortable.",announcements:{ascending:"Sorted ascending.",descending:"Sorted descending.",none:"Not sorted."}}},loading:"Loading...",noData:"No data to display"},time:{timezone:"UTC"},rendering:{rows:{bufferSize:10,minVisibleRows:2,strictHeights:!1,virtualizationThreshold:50},header:{enabled:!0},theme:"hcg-theme-default"},columnDefaults:{sorting:{sortable:!0},resizing:!0}},e.setOptions=function(t){tN(!0,e.defaultOptions,t)}}(r||(r={}));let tM=r,{merge:tS}=I,tA=class{constructor(e,t,i){this.cells=[],this.options=tS(e.grid.options?.columnDefaults??{},e.grid.columnOptionsMap?.[t]??{}),this.id=t,this.index=i,this.viewport=e,this.loadData()}loadData(){this.data=this.viewport.dataTable.getColumn(this.id,!0)}registerCell(e){e.htmlElement.setAttribute("data-column-id",this.id),this.options.className&&e.htmlElement.classList.add(...this.options.className.split(/\s+/g)),this.viewport.grid.hoveredColumnId===this.id&&e.htmlElement.classList.add(eB.getClassName("hoveredColumn")),this.cells.push(e)}unregisterCell(e){let t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getWidth(){return this.viewport.columnDistribution.getColumnWidth(this)}setHoveredState(e){this.header?.htmlElement?.classList[e?"add":"remove"](eB.getClassName("hoveredColumn"));for(let t=0,i=this.cells.length;t<i;++t)this.cells[t].htmlElement.classList[e?"add":"remove"](eB.getClassName("hoveredColumn"))}setSyncedState(e){this.header?.htmlElement?.classList[e?"add":"remove"](eB.getClassName("syncedColumn"));for(let t=0,i=this.cells.length;t<i;++t)this.cells[t].htmlElement.classList[e?"add":"remove"](eB.getClassName("syncedColumn"))}format(e){return eF.format(e,this,this.viewport.grid)}},{makeHTMLElement:tL}=e$,tD=class{constructor(e){this.cells=[],this.viewport=e,this.htmlElement=tL("tr",{})}render(){let e=this.viewport.columns;for(let t=0,i=e.length;t<i;t++)this.createCell(e[t]).render();this.rendered=!0,this.viewport.grid.options?.rendering?.rows?.virtualization&&this.reflow()}reflow(){for(let e=0,t=this.cells.length;e<t;++e)this.cells[e].reflow();let e=this.viewport;e.rowsWidth&&(this.htmlElement.style.width=e.rowsWidth+"px")}destroy(){if(this.htmlElement){for(let e=this.cells.length-1;e>=0;--e)this.cells[e].destroy();this.htmlElement.remove()}}getCell(e){return this.cells.find(t=>t.column?.id===e)}registerCell(e){this.cells.push(e)}unregisterCell(e){let t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}},tk=class{constructor(e,t){this.cellEvents=[],this.column=t,this.row=e,this.row.registerCell(this),this.htmlElement=this.init(),this.htmlElement.setAttribute("tabindex","-1"),this.initEvents()}init(){return document.createElement("td",{})}initEvents(){this.cellEvents.push(["blur",()=>this.onBlur()]),this.cellEvents.push(["focus",()=>this.onFocus()]),this.cellEvents.push(["click",e=>{this.onClick(e)}]),this.cellEvents.push(["keydown",e=>{this.onKeyDown(e)}]),this.cellEvents.forEach(e=>{this.htmlElement.addEventListener(e[0],e[1])})}onFocus(){let e=this.row.viewport,t=e.rowsVirtualizer.focusAnchorCell?.htmlElement;t?.setAttribute("tabindex","-1")}onBlur(){let e=this.row.viewport,t=e.rowsVirtualizer.focusAnchorCell?.htmlElement;t?.setAttribute("tabindex","0"),delete e.focusCursor}onKeyDown(e){let{row:t,column:i}=this;if(!i)return;let s=t.viewport,n={ArrowDown:[1,0],ArrowUp:[-1,0],ArrowLeft:[0,-1],ArrowRight:[0,1]}[e.key];if(n){e.preventDefault(),e.stopPropagation();let o=(void 0===t.index?-1:t.index-s.rows[0].index)+n[0];if(o<0&&s.header){s.columns[i.index+n[1]]?.header?.htmlElement.focus();return}let r=s.rows[o];r&&r.cells[i.index+n[1]]?.htmlElement.focus()}}render(){this.row.htmlElement.appendChild(this.htmlElement)}reflow(){let e=this.column;if(!e)return;let t=this.htmlElement.style;t.width=t.maxWidth=e.getWidth()+"px"}format(e){return eF.format(e,this,this.row.viewport.grid)}setCustomClassName(e){let t=this.htmlElement;if(this.customClassName&&t.classList.remove(...this.customClassName.split(/\s+/g)),!e){delete this.customClassName;return}let i=this.format(e);if(!i){delete this.customClassName;return}t.classList.add(...i.split(/\s+/g)),this.customClassName=i}destroy(){this.cellEvents.forEach(e=>{this.htmlElement.removeEventListener(e[0],e[1])}),this.column?.unregisterCell(this),this.row.unregisterCell(this),this.htmlElement.remove()}},{makeHTMLElement:tH}=e$,{fireEvent:tI}=I,tW=class{constructor(e,t){this.toggle=()=>{let e=this.column.viewport.grid.querying.sorting,t=(e.currentSorting?.columnId===this.column.id?e.currentSorting.order:null)||"none";this.setOrder({none:"asc",asc:"desc",desc:null}[t])},this.column=e,this.headerCellElement=t,this.addHeaderElementAttributes(),e.options.sorting?.sortable&&(tH("span",{className:eB.getClassName("columnSortableIcon"),innerText:"▲"},t).setAttribute("aria-hidden",!0),t.classList.add(eB.getClassName("columnSortable")))}addHeaderElementAttributes(){let e=this.column,t=e.viewport.grid.accessibility,i=e.options.sorting,{currentSorting:s}=e.viewport.grid.querying.sorting,n=eB.getClassName("columnSortedAsc"),o=eB.getClassName("columnSortedDesc"),r=this.headerCellElement;if(s?.columnId!==e.id||!s?.order){r.classList.remove(n),r.classList.remove(o),i?.sortable&&t?.setColumnSortState(r,"none");return}switch(s?.order){case"asc":r.classList.add(n),r.classList.remove(o),t?.setColumnSortState(r,"ascending");break;case"desc":r.classList.remove(n),r.classList.add(o),t?.setColumnSortState(r,"descending")}}async setOrder(e){let t=this.column.viewport,i=t.grid.querying,s=i.sorting,n=t.grid.accessibility;for(let n of(s.setSorting(e,this.column.id),await i.proceed(),t.loadPresentationData(),t.columns))n.sorting?.addHeaderElementAttributes();n?.userSortedColumn(e),tI(this.column,"afterSorting",{target:this.column})}},{makeHTMLElement:tz,setHTMLContent:tF}=e$,{fireEvent:tP,merge:tj,isString:tU}=I,tY=class extends tk{constructor(e,t,i){if(super(e,t),this.options={},this.columns=[],this.value="",t)t.header=this,this.columns.push(t);else if(i){let e=this.row.viewport;for(let t of e.grid.getColumnIds(i,!0)){let i=e.getColumn(t);i&&this.columns.push(i)}}}init(){let e=document.createElement("th",{});return e.classList.add(eB.getClassName("headerCell")),e}render(){let{column:e}=this,t=tj(e?.options||{},this.options),i=t.header||{},s=t.sorting?.sortable&&e?.data;i.formatter?this.value=i.formatter.call(this).toString():tU(i.format)?this.value=e?e.format(i.format):i.format:this.value=e?.id||"",this.row.htmlElement.appendChild(this.htmlElement),this.headerContent=tz("span",{className:eB.getClassName("headerCellContent")},this.htmlElement),tF(this.headerContent,this.value),this.htmlElement.setAttribute("scope","col"),this.options.className&&this.htmlElement.classList.add(...this.options.className.split(/\s+/g)),e&&(this.htmlElement.setAttribute("data-column-id",e.id),s&&e.viewport.grid.accessibility?.addSortableColumnHint(this.headerContent),e.options.className&&this.htmlElement.classList.add(...e.options.className.split(/\s+/g)),e.viewport.columnsResizer?.renderColumnDragHandles(e,this),this.initColumnSorting()),this.setCustomClassName(t.header?.className)}reflow(){let e=this.htmlElement;if(!e)return;let t=0;for(let e of this.columns)t+=e.getWidth()||0;e.style.width=e.style.maxWidth=t+"px"}onKeyDown(e){if(this.column&&e.target===this.htmlElement){if("Enter"===e.key){this.column.options.sorting?.sortable&&this.column.sorting?.toggle();return}super.onKeyDown(e)}}onClick(e){let t=this.column;!(!t||e.target!==this.htmlElement&&e.target!==t.header?.headerContent||t.viewport.columnsResizer?.isResizing)&&(t.options.sorting?.sortable&&t.sorting?.toggle(),tP(this,"click",{originalEvent:e,target:this.column}))}initColumnSorting(){let{column:e}=this;e&&(e.sorting=new tW(e,this.htmlElement))}isLastColumn(){let e=this.row.viewport;return e.columns[e.columns.length-1]===this.columns?.[this.columns.length-1]}},{isString:tV}=I,tB=class extends tD{constructor(e,t){super(e),this.level=t,this.setRowAttributes()}createCell(e,t){return new tY(this,e,t)}renderMultipleLevel(e){let t=this.viewport.grid.options?.header,i=this.viewport,s=i.grid.enabledColumns;if(i.theadElement?.appendChild(this.htmlElement),this.htmlElement.classList.add(eB.getClassName("headerRow")),t){let n=this.getColumnsAtLevel(t,e);for(let t=0,o=n.length;t<o;t++){let o=n[t],r="string"==typeof o,l=!r&&o.columns?i.grid.getColumnIds(o.columns).length:0,a=r?o:o.columnId,h=a?i.getColumn(a||""):void 0,d=r?void 0:o.format,u=r?void 0:o.className;if(a&&s&&0>s.indexOf(a)||!h&&0===l)continue;let m=this.createCell(h,r?void 0:o.columns);r||i.grid.accessibility?.addHeaderCellDescription(m.htmlElement,o.accessibility?.description),tV(d)&&(m.options.header||(m.options.header={}),m.options.header.format=d),u&&(m.options.className=u),h?.index===0&&0===t&&m.htmlElement.classList.add(eB.getClassName("columnFirst")),m.render(),a?m.htmlElement.setAttribute("rowSpan",(this.viewport.header?.levels||1)-e):l>1&&m.htmlElement.setAttribute("colSpan",l)}}else super.render();let n=this.cells[this.cells.length-1];n.isLastColumn()&&n.htmlElement.classList.add(eB.getClassName("lastHeaderCellInRow"))}reflow(){for(let e=0,t=this.cells.length;e<t;e++)this.cells[e].reflow()}getColumnsAtLevel(e,t,i=0){let s=[];for(let n of e)i===t&&s.push(n),"string"!=typeof n&&n.columns&&(s=s.concat(this.getColumnsAtLevel(n.columns,t,i+1)));return s}setRowAttributes(){let e=this.viewport.grid.accessibility;e?.setRowIndex(this.htmlElement,this.level)}},t$=class{constructor(e){this.columns=[],this.rows=[],this.levels=1,this.viewport=e,this.columns=e.columns,e.grid.options?.header&&(this.levels=this.getRowLevels(e.grid.options?.header))}render(){let e=this.viewport;if(e.grid.enabledColumns)for(let t=0,i=this.levels;t<i;t++){let i=new tB(e,t+1);i.renderMultipleLevel(t),this.rows.push(i)}}reflow(){let e=this.viewport;if(!e.theadElement)return;let{clientWidth:t,offsetWidth:i}=e.tbodyElement,s=e.header,n=this.rows,o=i-t;for(let e of n)e.reflow();if(e.rowsWidth&&(e.theadElement.style.width=Math.max(e.rowsWidth,t)+o+"px"),s&&o>0&&"full"===this.viewport.columnDistribution.type){let e=this.columns[this.columns.length-1].header?.row,t=e?.cells[e.cells.length-1]?.htmlElement;t&&(t.style.width=t.style.maxWidth=t.offsetWidth+o+"px")}}getRowLevels(e){let t=0;for(let i of e)if("string"!=typeof i&&i.columns){let e=this.getRowLevels(i.columns);e>t&&(t=e)}return t+1}scrollHorizontally(e){let t=this.viewport.theadElement;t&&(t.style.transform=`translateX(${-e}px)`)}},{setHTMLContent:t_}=e$,{defined:tG,fireEvent:tq}=I,tK=class extends tk{constructor(e,t){super(e,t),this.column=t,this.row=e,this.column.registerCell(this)}render(){super.render(),this.setValue(this.column.data?.[this.row.index],!1)}initEvents(){this.cellEvents.push(["dblclick",e=>this.onDblClick(e)]),this.cellEvents.push(["mouseout",()=>this.onMouseOut()]),this.cellEvents.push(["mouseover",()=>this.onMouseOver()]),this.cellEvents.push(["mousedown",e=>{this.onMouseDown(e)}]),super.initEvents()}onFocus(){super.onFocus(),this.row.viewport.focusCursor=[this.row.index,this.column.index]}onMouseDown(e){e.target===this.htmlElement&&this.htmlElement.focus(),tq(this,"mouseDown",{target:this,originalEvent:e})}onMouseOver(){let{grid:e}=this.row.viewport;e.hoverRow(this.row.index),e.hoverColumn(this.column.id),tq(this,"mouseOver",{target:this})}onMouseOut(){let{grid:e}=this.row.viewport;e.hoverRow(),e.hoverColumn(),tq(this,"mouseOut",{target:this})}onDblClick(e){tq(this,"dblClick",{target:this,originalEvent:e})}onClick(){tq(this,"click",{target:this})}onKeyDown(e){e.target===this.htmlElement&&(tq(this,"keyDown",{target:this,originalEvent:e}),super.onKeyDown(e))}async setValue(e,t){let i;this.value=e;let s=this.column.viewport;if(t_(this.htmlElement,this.formatCell()),this.htmlElement.setAttribute("data-value",this.value+""),this.setCustomClassName(this.column.options.cells?.className),tq(this,"afterSetValue",{target:this}),!t)return;let{dataTable:n}=s.grid,o=this.row.id&&n?.getLocalRowIndex(this.row.id);if(n&&void 0!==o){if(this.row.data[this.column.id]=this.value,n.setCell(this.column.id,o,this.value),!s.grid.querying.willNotModify()&&(s.focusCursor&&(i=s.dataTable.getOriginalRowIndex(s.focusCursor[0])),await s.grid.querying.proceed(!0),s.loadPresentationData(),void 0!==i&&s.focusCursor)){let e=s.dataTable.getLocalRowIndex(i);void 0!==e&&s.rows[e-s.rows[0].index]?.cells[s.focusCursor[1]].htmlElement.focus()}}}formatCell(){let e=this.row.viewport.grid.options?.columnDefaults?.cells||{},{format:t,formatter:i}=this.column.options.cells||{},s=e.format===t,n=e.formatter===i,o=this.value;tG(o)||(o="");let r="";return s&&n?r=i?i.call(this).toString():t?this.format(t):o+"":s?r=i?.call(this).toString()||o+"":n&&(r=t?this.format(t):o+""),r}destroy(){super.destroy()}},tZ=class extends tD{constructor(e,t){super(e),this.data={},this.translateY=0,this.index=t,this.id=e.dataTable.getOriginalRowIndex(t),this.loadData(),this.setRowAttributes()}createCell(e){return new tK(this,e)}loadData(){let e=this.viewport.dataTable.getRowObject(this.index);e&&(this.data=e)}setHoveredState(e){this.htmlElement.classList[e?"add":"remove"](eB.getClassName("hoveredRow")),e&&(this.viewport.grid.hoveredRowIndex=this.index)}setSyncedState(e){this.htmlElement.classList[e?"add":"remove"](eB.getClassName("syncedRow")),e&&(this.viewport.grid.syncedRowIndex=this.index)}setRowAttributes(){let e=this.index,t=this.htmlElement,i=this.viewport.grid.accessibility;t.classList.add(eB.getClassName("rowElement")),t.setAttribute("data-row-index",e),void 0!==this.id&&t.setAttribute("data-row-id",this.id),i?.setRowIndex(t,e+(this.viewport.header?.levels??1)+1),t.classList.add(eB.getClassName(e%2?"rowEven":"rowOdd")),this.viewport.grid.hoveredRowIndex===e&&t.classList.add(eB.getClassName("hoveredRow")),this.viewport.grid.syncedRowIndex===e&&t.classList.add(eB.getClassName("syncedRow"))}setTranslateY(e){this.translateY=e,this.htmlElement.style.transform=`translateY(${e}px)`}getDefaultTopOffset(){return this.index*this.viewport.rowsVirtualizer.defaultRowHeight}},tJ=class{constructor(e){this.rowCursor=0,this.preventScroll=!1,this.rowSettings=e.grid.options?.rendering?.rows,this.viewport=e,this.strictRowHeights=this.rowSettings.strictHeights,this.buffer=Math.max(this.rowSettings.bufferSize,0),this.defaultRowHeight=this.getDefaultRowHeight(),this.strictRowHeights&&e.tbodyElement.classList.add(eB.getClassName("rowsContentNowrap"))}initialRender(){this.rowSettings?.virtualization&&this.viewport.reflow(),this.renderRows(this.rowCursor),this.rowSettings?.virtualization&&this.adjustRowHeights()}rerender(){let e,t=this.viewport.tbodyElement,i=this.viewport.rows,s=t.scrollLeft;if(i.length){e=t.scrollTop;for(let e=0,t=i.length;e<t;++e)i[e].destroy();i.length=0}this.renderRows(this.rowCursor),this.rowSettings?.virtualization&&(void 0!==e&&(t.scrollTop=e),this.scroll()),i=this.viewport.rows;for(let e=0,t=i.length;e<t;++e)i[e].reflow();t.scrollLeft=s}scroll(){let e=this.viewport.tbodyElement,{defaultRowHeight:t}=this,i=e.scrollTop;if(this.preventScroll){i<=e.scrollTop&&(this.preventScroll=!1),this.adjustBottomRowHeights();return}let s=Math.floor(e.scrollTop/t);this.rowCursor!==s&&this.renderRows(s),this.rowCursor=s,this.adjustRowHeights(),this.strictRowHeights||!(i>e.scrollTop)||this.preventScroll||(e.scrollTop=i,this.preventScroll=!0)}adjustBottomRowHeights(){let e=this.viewport.rows,t=e.length,i=e[t-1],s=i.translateY,n=s+i.htmlElement.offsetHeight,o=i.cells[0].htmlElement.offsetHeight;s=n-o,i.htmlElement.style.height=o+"px",i.setTranslateY(s);for(let e=0,t=i.cells.length;e<t;++e)i.cells[e].htmlElement.style.transform="";for(let i=t-2;i>=0;i--){let t=e[i];s-=o=t.cells[0].htmlElement.offsetHeight,t.htmlElement.style.height=o+"px",t.setTranslateY(s);for(let e=0,i=t.cells.length;e<i;++e)t.cells[e].htmlElement.style.transform=""}}renderRows(e){let{viewport:t,buffer:i}=this,s=this.rowSettings?.virtualization,n=s?Math.ceil((t.grid.tableElement?.clientHeight||0)/this.defaultRowHeight):1/0,o=t.rows;if(!s&&o.length>50&&console.warn("Grid: a large dataset can cause performance issues."),!o.length){let e=new tZ(t,t.dataTable.getRowCount()-1);e.render(),o.push(e),t.tbodyElement.appendChild(e.htmlElement),s&&e.setTranslateY(e.getDefaultTopOffset())}let r=Math.max(0,Math.min(e-i,t.dataTable.getRowCount()-n)),l=Math.min(e+n+i,o[o.length-1].index-1),a=o.pop(),h=[];for(let e=0,t=o.length;e<t;++e){let t=o[e],i=t.index;i<r||i>l?t.destroy():h.push(t)}t.rows=o=h;for(let e=r;e<=l;++e)if(!o[e-(o[0]?.index||0)]){let i=new tZ(t,e);o.push(i),i.rendered=!1,s&&i.setTranslateY(i.getDefaultTopOffset())}o.sort((e,t)=>e.index-t.index);for(let e=0,i=o.length;e<i;++e)o[e].rendered||(o[e].render(),t.tbodyElement.insertBefore(o[e].htmlElement,t.tbodyElement.lastChild));if(a&&o.push(a),t.focusCursor){let[e,i]=t.focusCursor,s=o.find(t=>t.index===e);s&&s.cells[i]?.htmlElement.focus({preventScroll:!0})}this.focusAnchorCell?.htmlElement.setAttribute("tabindex","-1");let d=o[e-o[0].index];this.focusAnchorCell=d?.cells[0],this.focusAnchorCell?.htmlElement.setAttribute("tabindex","0")}adjustRowHeights(){if(this.strictRowHeights)return;let{rowCursor:e,defaultRowHeight:t}=this,{rows:i,tbodyElement:s}=this.viewport,n=i.length,o=i[0].getDefaultTopOffset();for(let o=0;o<n;++o){let n=i[o];if(n.htmlElement.style.height="",n.cells[0].htmlElement.style.transform)for(let e=0,t=n.cells.length;e<t;++e)n.cells[e].htmlElement.style.transform="";if(n.index<e){n.htmlElement.style.height=t+"px";continue}let r=n.cells[0].htmlElement.offsetHeight;if(n.htmlElement.style.height=r+"px",!(n.index>e)&&n.htmlElement.offsetHeight>t){let i=Math.floor(r-(r-t)*(s.scrollTop/t-e));n.htmlElement.style.height=i+"px";for(let e=0,t=n.cells.length;e<t;++e)n.cells[e].htmlElement.style.transform=`translateY(${i-r}px)`}}i[0].setTranslateY(o);for(let e=1,t=n-1;e<t;++e)o+=i[e-1].htmlElement.offsetHeight,i[e].setTranslateY(o);let r=i[n-1],l=i[n-2];l&&l.index===r.index-1&&r.setTranslateY(l.htmlElement.offsetHeight+o)}reflowRows(){let e=this.viewport.rows;if(!(e.length<1)){for(let t=0,i=e.length;t<i;++t)e[t].reflow();this.rowSettings?.virtualization&&this.adjustRowHeights()}}getDefaultRowHeight(){let e=new tZ(this.viewport,0);e.htmlElement.style.position="absolute",e.htmlElement.classList.add(eB.getClassName("mockedRow")),e.render(),this.viewport.tbodyElement.appendChild(e.htmlElement);let t=e.htmlElement.offsetHeight;return e.destroy(),t}},{makeHTMLElement:tX}=e$,{fireEvent:tQ}=I,t0=class{constructor(e){this.isResizing=!1,this.handles=[],this.onDocumentMouseMove=e=>{if(!this.draggedResizeHandle||!this.draggedColumn)return;let t=e.pageX-(this.dragStartX||0),i=this.viewport;i.columnDistribution.resize(this,t),i.reflow(),i.grid.options?.rendering?.rows?.virtualization&&i.rowsVirtualizer.adjustRowHeights(),tQ(this.draggedColumn,"afterResize",{target:this.draggedColumn,originalEvent:e})},this.onDocumentMouseUp=()=>{this.draggedColumn?.header?.htmlElement?.classList.remove(eB.getClassName("resizedColumn")),this.dragStartX=void 0,this.draggedColumn=void 0,this.draggedResizeHandle=void 0,this.columnStartWidth=void 0,this.nextColumnStartWidth=void 0,requestAnimationFrame(()=>{this.isResizing=!1})},this.viewport=e,document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp)}renderColumnDragHandles(e,t){let i=e.viewport;if(i.columnsResizer&&("full"!==i.columnDistribution.type||i.grid.enabledColumns&&e.index<i.grid.enabledColumns.length-1)){let s=tX("div",{className:eB.getClassName("resizerHandles")},t.htmlElement);s.setAttribute("aria-hidden",!0),i.columnsResizer?.addHandleListeners(s,e)}}addHandleListeners(e,t){let i=i=>{let s=t.viewport;this.isResizing=!0,s.reflow(),this.dragStartX=i.pageX,this.draggedColumn=t,this.draggedResizeHandle=e,this.columnStartWidth=t.getWidth(),this.nextColumnStartWidth=s.columns[t.index+1]?.getWidth(),t.header?.htmlElement.classList.add(eB.getClassName("resizedColumn"))};this.handles.push([e,i]),e.addEventListener("mousedown",i)}removeEventListeners(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp);for(let e=0,t=this.handles.length;e<t;e++){let[t,i]=this.handles[e];t.removeEventListener("mousedown",i)}}},{makeHTMLElement:t1}=e$,{fireEvent:t2,getStyle:t3,defined:t6}=I,t5=class{constructor(e,t){this.columns=[],this.rows=[],this.onTBodyFocus=e=>{e.preventDefault(),this.rows[this.rowsVirtualizer.rowCursor-this.rows[0].index]?.cells[0]?.htmlElement.focus()},this.onResize=()=>{this.reflow()},this.onScroll=()=>{this.virtualRows&&this.rowsVirtualizer.scroll(),this.header?.scrollHorizontally(this.tbodyElement.scrollLeft)},this.grid=e,this.dataTable=this.grid.presentationTable;let i=e.options,s=i?.rendering?.table?.className;this.columnDistribution=eJ.initStrategy(this),this.virtualRows=!!i?.rendering?.rows?.virtualization,i?.rendering?.header?.enabled&&(this.theadElement=t1("thead",{},t)),this.tbodyElement=t1("tbody",{},t),this.virtualRows&&t.classList.add(eB.getClassName("virtualization")),i?.columnDefaults?.resizing&&(this.columnsResizer=new t0(this)),s&&t.classList.add(...s.split(/\s+/g)),this.loadColumns(),this.rowsVirtualizer=new tJ(this),this.init(),this.resizeObserver=new ResizeObserver(this.onResize),this.resizeObserver.observe(t),t.classList.add(eB.getClassName("scrollableContent")),this.tbodyElement.addEventListener("scroll",this.onScroll),this.tbodyElement.addEventListener("focus",this.onTBodyFocus)}init(){t2(this,"beforeInit"),this.setTbodyMinHeight(),this.grid.options?.rendering?.header?.enabled&&(this.header=new t$(this),this.header.render()),this.rowsVirtualizer.initialRender()}setTbodyMinHeight(){let{options:e}=this.grid,t=e?.rendering?.rows?.minVisibleRows,i=this.tbodyElement;t6(t)&&!t3(i,"min-height",!0)&&(i.style.minHeight=t*this.rowsVirtualizer.defaultRowHeight+"px")}loadColumns(){let e,{enabledColumns:t}=this.grid;if(t){for(let i=0,s=t.length;i<s;++i)e=t[i],this.columns.push(new tA(this,e,i));this.columnDistribution.loadColumns()}}updateVirtualization(){let e=this.grid.options?.rendering?.rows,t=Number(e?.virtualizationThreshold||tM.defaultOptions.rendering?.rows?.virtualizationThreshold),i=Number(this.dataTable?.rowCount);e?.virtualization!==i>=t&&this.grid.update()}loadPresentationData(){for(let e of(this.dataTable=this.grid.presentationTable,this.columns))e.loadData();this.updateVirtualization(),this.rowsVirtualizer.rerender()}reflow(){this.columnDistribution.reflow(),this.header?.reflow(),this.rowsVirtualizer.reflowRows()}scrollToRow(e){if(this.grid.options?.rendering?.rows?.virtualization){this.tbodyElement.scrollTop=e*this.rowsVirtualizer.defaultRowHeight;return}let t="."+eB.getClassName("rowElement"),i=this.tbodyElement.querySelectorAll(t)[0].getBoundingClientRect().top;this.tbodyElement.scrollTop=this.tbodyElement.querySelectorAll(t)[e].getBoundingClientRect().top-i}getRatioFromWidth(e){return e/this.tbodyElement.clientWidth}getWidthFromRatio(e){return this.tbodyElement.clientWidth*e}destroy(){this.tbodyElement.removeEventListener("focus",this.onTBodyFocus),this.tbodyElement.removeEventListener("scroll",this.onScroll),this.resizeObserver.disconnect(),this.columnsResizer?.removeEventListeners();for(let e=0,t=this.rows.length;e<t;++e)this.rows[e].destroy();t2(this,"afterDestroy")}getStateMeta(){return{scrollTop:this.tbodyElement.scrollTop,scrollLeft:this.tbodyElement.scrollLeft,columnDistribution:this.columnDistribution,focusCursor:this.focusCursor}}applyStateMeta(e){if(this.tbodyElement.scrollTop=e.scrollTop,this.tbodyElement.scrollLeft=e.scrollLeft,!e.columnDistribution.invalidated){let t=e.columnDistribution.exportMetadata();this.columnDistribution.importMetadata(t)}if(e.focusCursor){let[t,i]=e.focusCursor,s=this.rows[t-this.rows[0].index];s?.cells[i]?.htmlElement.focus()}}getColumn(e){let t=this.grid.enabledColumns;if(!t)return;let i=t.indexOf(e);if(!(i<0))return this.columns[i]}getRow(e){return this.rows.find(t=>t.id===e)}},{merge:t4}=I;class t9 extends e2{constructor(e,...t){super(),this.chain=t,this.options=t4(t9.defaultOptions,e);let i=this.options.chain||[];for(let e=0,s=i.length,n,o;e<s;++e)(n=i[e]).type&&(o=e2.types[n.type])&&t.push(new o(n))}add(e,t){this.emit({type:"addModifier",detail:t,modifier:e}),this.chain.push(e),this.emit({type:"addModifier",detail:t,modifier:e})}clear(e){this.emit({type:"clearChain",detail:e}),this.chain.length=0,this.emit({type:"afterClearChain",detail:e})}async modify(e,t){let i=this.options.reverse?this.chain.slice().reverse():this.chain.slice();e.modified===e&&(e.modified=e.clone(!1,t));let s=e;for(let n=0,o=i.length;n<o;++n){try{await i[n].modify(s,t)}catch(i){throw this.emit({type:"error",detail:t,table:e}),i}s=s.modified}return e.modified=s,e}modifyCell(e,t,i,s,n){let o=this.options.reverse?this.chain.reverse():this.chain;if(o.length){let r=e.clone();for(let e=0,l=o.length;e<l;++e)o[e].modifyCell(r,t,i,s,n),r=r.modified;e.modified=r}return e}modifyColumns(e,t,i,s){let n=this.options.reverse?this.chain.reverse():this.chain.slice();if(n.length){let o=e.clone();for(let e=0,r=n.length;e<r;++e)n[e].modifyColumns(o,t,i,s),o=o.modified;e.modified=o}return e}modifyRows(e,t,i,s){let n=this.options.reverse?this.chain.reverse():this.chain.slice();if(n.length){let o=e.clone();for(let e=0,r=n.length;e<r;++e)n[e].modifyRows(o,t,i,s),o=o.modified;e.modified=o}return e}modifyTable(e,t){this.emit({type:"modify",detail:t,table:e});let i=this.options.reverse?this.chain.reverse():this.chain.slice(),s=e.modified;for(let e=0,n=i.length;e<n;++e)s=i[e].modifyTable(s,t).modified;return e.modified=s,this.emit({type:"afterModify",detail:t,table:e}),e}remove(e,t){let i=this.chain;this.emit({type:"removeModifier",detail:t,modifier:e}),i.splice(i.indexOf(e),1),this.emit({type:"afterRemoveModifier",detail:t,modifier:e})}}t9.defaultOptions={type:"Chain"},e2.registerType("Chain",t9);let{merge:t8}=I;class t7 extends e2{static ascending(e,t){return(e||0)<(t||0)?-1:+((e||0)>(t||0))}static descending(e,t){return(t||0)<(e||0)?-1:+((t||0)>(e||0))}constructor(e){super(),this.options=t8(t7.defaultOptions,e)}getRowReferences(e){let t=e.getRows(),i=[];for(let e=0,s=t.length;e<s;++e)i.push({index:e,row:t[e]});return i}modifyCell(e,t,i,s,n){let{orderByColumn:o,orderInColumn:r}=this.options;return t===o&&(r?(e.modified.setCell(t,i,s),e.modified.setColumn(r,this.modifyTable(new tr({columns:e.getColumns([o,r])})).modified.getColumn(r))):this.modifyTable(e,n)),e}modifyColumns(e,t,i,s){let{orderByColumn:n,orderInColumn:o}=this.options,r=Object.keys(t);return r.indexOf(n)>-1&&(o&&t[r[0]].length?(e.modified.setColumns(t,i),e.modified.setColumn(o,this.modifyTable(new tr({columns:e.getColumns([n,o])})).modified.getColumn(o))):this.modifyTable(e,s)),e}modifyRows(e,t,i,s){let{orderByColumn:n,orderInColumn:o}=this.options;return o&&t.length?(e.modified.setRows(t,i),e.modified.setColumn(o,this.modifyTable(new tr({columns:e.getColumns([n,o])})).modified.getColumn(o))):this.modifyTable(e,s),e}modifyTable(e,t){this.emit({type:"modify",detail:t,table:e});let i=e.getColumnNames(),s=e.getRowCount(),n=this.getRowReferences(e),{direction:o,orderByColumn:r,orderInColumn:l}=this.options,a="asc"===o?t7.ascending:t7.descending,h=i.indexOf(r),d=e.modified;if(-1!==h&&n.sort((e,t)=>a(e.row[h],t.row[h])),l){let e=[];for(let t=0;t<s;++t)e[n[t].index]=t;d.setColumns({[l]:e})}else{let e,t=[],i=[];for(let o=0;o<s;++o)e=n[o],t.push(d.getOriginalRowIndex(e.index)),i.push(e.row);d.setRows(i,0),d.setOriginalRowIndexes(t)}return this.emit({type:"afterModify",detail:t,table:e}),e}}t7.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"},e2.registerType("Sort",t7);let ie=class{constructor(e){this.shouldBeUpdated=!1,this.grid=e}setSorting(e,t){(this.currentSorting?.columnId!==t||this.currentSorting?.order!==e)&&(this.shouldBeUpdated=!0,this.currentSorting={columnId:t,order:e}),this.modifier=this.createModifier()}getSortingOptions(){let e,{columnOptionsMap:t}=this.grid;if(!t)return{order:null};let i=Object.keys(t),s=null;for(let n=i.length-1;n>-1;--n){let o=i[n],r=t[o],l=r.sorting?.order;if(l){if(e){console.warn(`Grid: Only one column can be sorted at a time. Data will be sorted only by the last found column with the sorting order defined in the options: "${e}".`);break}s=l,e=o}}return{columnId:e,order:s}}loadOptions(){let e=this.getSortingOptions();(e.columnId!==this.initialSorting?.columnId||e.order!==this.initialSorting?.order)&&(this.initialSorting=e,this.setSorting(e.order,e.columnId))}createModifier(){if(!this.currentSorting)return;let{columnId:e,order:t}=this.currentSorting;if(t)return new t7({orderByColumn:e,direction:t})}},it=class{constructor(e){this.grid=e,this.sorting=new ie(e)}async proceed(e=!1){(e||this.sorting.shouldBeUpdated)&&await this.modifyData()}loadOptions(){this.sorting.loadOptions()}willNotModify(){return!this.sorting.modifier}async modifyData(){let e=this.grid.dataTable;if(!e)return;let t=[];if(this.sorting.modifier&&t.push(this.sorting.modifier),t.length>0){let i=new t9({},...t),s=e.clone();await i.modify(s.modified),this.grid.presentationTable=s.modified}else this.grid.presentationTable=e.modified;this.sorting.shouldBeUpdated=!1}},{makeHTMLElement:ii,setHTMLContent:is}=e$,{fireEvent:io,extend:ir,getStyle:il,merge:ia,pick:ih,defined:id}=I;class iu{static grid(e,t,i){return i?new Promise(i=>{new iu(e,t,e=>{i(e)})}):new iu(e,t)}constructor(e,t,i){this.columnOptionsMap={},this.userOptions={},this.initialContainerHeight=0,this.loadUserOptions(t),this.querying=new it(this),this.id=this.options?.id||I.uniqueKey(),this.initContainers(e),this.initAccessibility(),this.loadDataTable(this.options?.dataTable),this.initVirtualization(),this.locale=this.options?.lang?.locale||this.container?.closest("[lang]")?.lang,this.time=new em(ir(this.options?.time,{locale:this.locale}),this.options?.lang),this.querying.loadOptions(),this.querying.proceed().then(()=>{this.renderViewport(),i?.(this)}),iu.grids.push(this)}initAccessibility(){this.accessibility?.destroy(),delete this.accessibility,this.options?.accessibility?.enabled&&(this.accessibility=new tR(this))}initContainers(e){let t="string"==typeof e?eB.win.document.getElementById(e):e;if(!t){console.error(`
                Rendering div not found. It is unable to find the HTML element
                to render the Grid in.
            `);return}this.initialContainerHeight=il(t,"height",!0)||0,this.container=t,this.container.innerHTML=K.emptyHTML,this.contentWrapper=ii("div",{className:eB.getClassName("container")},this.container)}loadUserOptions(e,t=!1){(e=ia(e)).columns&&(t?this.loadColumnOptionsOneToOne(e.columns):this.loadColumnOptions(e.columns),delete e.columns),this.userOptions=ia(this.userOptions,e),this.options=ia(this.options??tM.defaultOptions,this.userOptions);let i=this.options?.columns;if(!i)return;let s={};for(let e=0,t=i?.length??0;e<t;++e)s[i[e].id]=i[e];this.columnOptionsMap=s}loadColumnOptions(e,t=!1){this.userOptions.columns||(this.userOptions.columns=[]);let i=this.userOptions.columns;for(let s=0,n=e.length;s<n;++s){let n=e[s],o=i.findIndex(e=>e.id===n.id);if(Object.keys(n).length<2){t&&-1!==o&&i.splice(o,1);continue}-1===o?i.push(n):t?i[o]=n:i[o]=ia(i[o],n)}i.length<1&&delete this.userOptions.columns}loadColumnOptionsOneToOne(e){let t,i=this.userOptions.columns,s=[];for(let n=0,o=e.length;n<o;++n){let o=e[n],r=i?.findIndex(e=>e.id===o.id);void 0!==r&&-1!==r&&(t=i?.[r]);let l=ia(t??{},o);Object.keys(l).length>1&&s.push(l)}this.userOptions.columns=s}async update(e={},t=!0,i=!1){this.loadUserOptions(e,i),this.initAccessibility();let s=!1;(!this.dataTable||e.dataTable)&&(this.userOptions.dataTable=e.dataTable,(this.options??{}).dataTable=e.dataTable,this.loadDataTable(this.options?.dataTable),s=!0,this.initVirtualization()),this.viewport?.columnDistribution.validateOnUpdate(e),this.querying.loadOptions(),t&&(await this.querying.proceed(s),this.renderViewport())}async updateColumn(e,t,i=!0,s=!1){this.loadColumnOptions([{id:e,...t}],s),await this.update(void 0,i)}hoverRow(e){let t=this.viewport?.rows;if(!t)return;let i=this.viewport?.rows[0]?.index??0;void 0!==this.hoveredRowIndex&&t[this.hoveredRowIndex-i]?.setHoveredState(!1),void 0!==e&&t[e-i]?.setHoveredState(!0),this.hoveredRowIndex=e}hoverColumn(e){let t=this.viewport;t&&(this.hoveredColumnId&&t.getColumn(this.hoveredColumnId)?.setHoveredState(!1),e&&t.getColumn(e)?.setHoveredState(!0),this.hoveredColumnId=e)}syncRow(e){let t=this.viewport?.rows;if(!t)return;let i=this.viewport?.rows[0]?.index??0;void 0!==this.syncedRowIndex&&t[this.syncedRowIndex-i]?.setSyncedState(!1),void 0!==e&&t[e-i]?.setSyncedState(!0),this.syncedRowIndex=e}syncColumn(e){let t=this.viewport;t&&(this.syncedColumnId&&t.getColumn(this.syncedColumnId)?.setSyncedState(!1),e&&t.getColumn(e)?.setSyncedState(!0),this.syncedColumnId=e)}renderCaption(){let e=this.options?.caption,t=e?.text;t&&(this.captionElement=ii("div",{className:eB.getClassName("captionElement"),id:this.id+"-caption"},this.contentWrapper),is(this.captionElement,t),e.className&&this.captionElement.classList.add(...e.className.split(/\s+/g)))}renderDescription(){let e=this.options?.description,t=e?.text;t&&(this.descriptionElement=ii("div",{className:eB.getClassName("descriptionElement"),id:this.id+"-description"},this.contentWrapper),is(this.descriptionElement,t),e.className&&this.descriptionElement.classList.add(...e.className.split(/\s+/g)))}resetContentWrapper(){this.contentWrapper&&(this.contentWrapper.innerHTML=K.emptyHTML,this.contentWrapper.className=eB.getClassName("container")+" "+this.options?.rendering?.theme||"")}renderViewport(){let e=this.viewport?.getStateMeta();this.enabledColumns=this.getEnabledColumnIDs(),this.credits?.destroy(),this.viewport?.destroy(),delete this.viewport,this.resetContentWrapper(),this.renderCaption(),this.enabledColumns.length>0?(this.viewport=this.renderTable(),e&&this.viewport&&this.viewport.applyStateMeta(e)):this.renderNoData(),this.renderDescription(),this.accessibility?.setA11yOptions(),io(this,"afterRenderViewport"),this.viewport?.reflow()}renderTable(){return this.tableElement=ii("table",{className:eB.getClassName("tableElement")},this.contentWrapper),new t5(this,this.tableElement)}renderNoData(){ii("div",{className:eB.getClassName("noData"),innerText:this.options?.lang?.noData},this.contentWrapper)}getEnabledColumnIDs(){let e,{columnOptionsMap:t}=this,i=this.options?.header,s=this.getColumnIds(i||[],!1),n=this.options?.rendering?.columns?.included||(s&&s.length>0?s:this.dataTable?.getColumnNames());if(!n?.length)return[];if(!t)return n;let o=[];for(let i=0,s=n.length;i<s;++i)e=n[i],t?.[e]?.enabled!==!1&&o.push(e);return o}loadDataTable(e){if(e?.id){this.dataTable=e,this.presentationTable=this.dataTable.modified;return}this.dataTable=this.presentationTable=new tr(e)}getColumnIds(e,t=!0){let i=[],{enabledColumns:s}=this;for(let n of e){let e="string"==typeof n?n:n.columnId;e&&(!t||s?.includes(e))&&i.push(e),"string"!=typeof n&&n.columns&&(i=i.concat(this.getColumnIds(n.columns,t)))}return i}destroy(){let e=iu.grids.findIndex(e=>e===this);this.viewport?.destroy(),this.container&&(this.container.innerHTML=K.emptyHTML,this.container.classList.remove(eB.getClassName("container"))),Object.keys(this).forEach(e=>{delete this[e]}),iu.grids.splice(e,1)}showLoading(e){!this.loadingWrapper&&(this.loadingWrapper=ii("div",{className:eB.getClassName("loadingWrapper")},this.contentWrapper),ii("div",{className:eB.getClassName("loadingSpinner")},this.loadingWrapper),is(ii("span",{className:eB.getClassName("loadingMessage")},this.loadingWrapper),ih(e,this.options?.lang?.loading,"")))}hideLoading(){this.loadingWrapper?.remove(),delete this.loadingWrapper}getData(){let e=this.viewport?.dataTable.modified.columns;if(!this.enabledColumns||!e)return"{}";for(let t of Object.keys(e))-1===this.enabledColumns.indexOf(t)&&delete e[t];return JSON.stringify(e)}getJSON(){return this.getData()}getOptions(e=!0){let t=e?ia(this.userOptions):ia(this.options);return t.dataTable?.id&&(t.dataTable={columns:t.dataTable.columns}),t}getOptionsJSON(e=!0){return JSON.stringify(this.getOptions(e))}initVirtualization(){var e,t;let i=this.userOptions.rendering?.rows,s=i?.virtualization,n=Number(i?.virtualizationThreshold||tM.defaultOptions.rendering?.rows?.virtualizationThreshold),o=Number(this.dataTable?.rowCount);(t=(e=this.options??(this.options={})).rendering??(e.rendering={})).rows??(t.rows={}),this.options.rendering.rows.virtualization=id(s)?s:o>=n}}iu.grids=[];let im={connectors:[]};class ic{constructor(e=im){e.connectors=e.connectors||[],this.connectors={},this.options=e,this.waiting={}}emit(e){I.fireEvent(this,e.type,e)}getConnector(e){let t=this.connectors[e];if(t)return Promise.resolve(t);let i=this.waiting[e];if(!i){i=this.waiting[e]=[];let t=this.getConnectorOptions(e);if(!t)throw Error(`Connector '${e}' not found.`);this.loadConnector(t).then(t=>{delete this.waiting[e];for(let e=0,s=i.length;e<s;++e)i[e][0](t)}).catch(t=>{delete this.waiting[e];for(let e=0,s=i.length;e<s;++e)i[e][1](t)})}return new Promise((e,t)=>{i.push([e,t])})}getConnectorIds(){let e=this.options.connectors,t=[];for(let i=0,s=e.length;i<s;++i)t.push(e[i].id);return t}getConnectorOptions(e){let t=this.options.connectors;for(let i=0,s=t.length;i<s;++i)if(t[i].id===e)return t[i]}getConnectorTable(e){return this.getConnector(e).then(e=>e.table)}isNewConnector(e){return!this.connectors[e]}loadConnector(e){return new Promise((t,i)=>{this.emit({type:"load",options:e});let s=tm.types[e.type];if(!s)throw Error(`Connector type not found. (${e.type})`);new s(e.options,e.dataTables).load().then(i=>{this.connectors[e.id]=i,this.emit({type:"afterLoad",options:e}),t(i)}).catch(i)})}on(e,t){return I.addEvent(this,e,t)}setConnectorOptions(e){let t=this.options.connectors,i=this.connectors;this.emit({type:"setConnectorOptions",options:e});for(let i=0,s=t.length;i<s;++i)if(t[i].id===e.id){t.splice(i,1);break}i[e.id]&&(i[e.id].stopPolling(),delete i[e.id]),t.push(e),this.emit({type:"afterSetConnectorOptions",options:e})}}ic.version="1.0.0";let{makeHTMLElement:ip,setHTMLContent:ig}=e$;class iy{constructor(e,t){this.grid=e,this.containerElement=ip("div",{className:eB.getClassName("creditsContainer")}),this.textElement=this.renderAnchor(),this.options=t??iy.defaultOptions,this.render()}render(){let e=this.grid,t=e.contentWrapper,{text:i,href:s}=this.options;this.containerElement.remove(),this.textElement||(this.textElement=this.renderAnchor()),i&&s&&(ig(this.textElement,i),this.textElement.setAttribute("href",s||"")),e.descriptionElement?t?.insertBefore(this.containerElement,e.descriptionElement):t?.appendChild(this.containerElement)}renderAnchor(){let e=ip("a",{className:eB.getClassName("creditsText")},this.containerElement);return e.setAttribute("target","_blank"),e}getHeight(){return this.containerElement.offsetHeight}destroy(){this.containerElement.remove()}}iy.defaultOptions={enabled:!0,text:`<picture class="hcg-logo-wrapper">
            <source srcset="https://assets.highcharts.com/grid/logo_darkx2.png 2x, https://assets.highcharts.com/grid/logo_dark.png 1x" media="(prefers-color-scheme: dark)">
            <img src="https://assets.highcharts.com/grid/logo_light.png" srcset="https://assets.highcharts.com/grid/logo_lightx2.png 2x, https://assets.highcharts.com/grid/logo_light.png 1x" alt="Highcharts logo" style="height: 20px !important; width: auto !important; display: inline-block !important;">
        </picture>`,href:"https://www.highcharts.com",position:"bottom"};let{addEvent:iw,pushUnique:ib}=I;!function(e){let t;function i(){let e=new iy(this),i=e.containerElement.style;return i.setProperty("display","inline-block","important"),i.setProperty("padding","5px 5px 0px 5px","important"),i.setProperty("text-align","right","important"),(t=new MutationObserver(()=>{e.containerElement.querySelector(".hcg-logo-wrapper")||e.render()})).observe(e.containerElement,{attributes:!0,childList:!0,subtree:!0}),e}function s(){t.disconnect()}e.compose=function(e,t){ib(d.composed,"CreditsLite")&&(iw(e,"afterRenderViewport",i),iw(t,"afterDestroy",s))}}(l||(l={}));let iv=l,{merge:iC}=I;class iE extends tw{constructor(e){let t=iC(iE.defaultOptions,e);super(t),this.columns=[],this.headers=[],this.dataTypes=[],this.options=t}export(e,t=this.options){let{useLocalDecimalPoint:i,lineDelimiter:s}=t,n=!1!==this.options.firstRowAsNames,{decimalPoint:o,itemDelimiter:r}=t;o||(o=","!==r&&i?1.1.toLocaleString()[1]:"."),r||(r=","===o?";":",");let l=e.getSortedColumns(t.usePresentationOrder),a=Object.keys(l),h=[],d=a.length,u=[];n&&h.push(a.map(e=>`"${e}"`).join(r));for(let t=0;t<d;t++){let i,s=a[t],n=l[s],m=n.length,c=e.whatIs(s);c&&(i=c.dataType);for(let e=0;e<m;e++){let s=n[e];if(u[e]||(u[e]=[]),"string"===i?s='"'+s+'"':"number"==typeof s?s=String(s).replace(".",o):"string"==typeof s&&(s=`"${s}"`),u[e][t]=s,t===d-1){let i=t;for(;u[e].length>2&&void 0===u[e][i];)u[e].pop(),i--;h.push(u[e].join(r))}}}return h.join(s)}parse(e,t){let i=this.dataTypes,s=iC(this.options,e),{beforeParse:n,lineDelimiter:o,firstRowAsNames:r,itemDelimiter:l}=s,a,h=0,{csv:d,startRow:u,endRow:m}=s,c;if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:t,headers:this.headers}),d&&n&&(d=n(d)),d){if(a=d.replace(/\r\n|\r/g,"\n").split(o||"\n"),(!u||u<0)&&(u=0),(!m||m>=a.length)&&(m=a.length-1),l||(this.guessedItemDelimiter=this.guessDelimiter(a)),r){let e=a[0].split(l||this.guessedItemDelimiter||",");for(let t=0;t<e.length;t++)e[t]=e[t].trim().replace(/^["']|["']$/g,"");this.headers=e,u++}let e=0;for(h=u;h<=m;h++)"#"===a[h][0]?e++:this.parseCSVRow(a[h],h-u-e);i.length&&i[0].length&&"date"===i[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let e=0,t=this.columns.length;e<t;++e){c=this.columns[e];for(let t=0,i=c.length;t<i;++t)if(c[t]&&"string"==typeof c[t]){let i=this.asGuessedType(c[t]);i instanceof Date&&(i=i.getTime()),this.columns[e][t]=i}}}this.emit({type:"afterParse",columns:this.columns,detail:t,headers:this.headers})}parseCSVRow(e,t){let i=this,s=i.columns||[],n=i.dataTypes,{startColumn:o,endColumn:r}=i.options,l=i.options.itemDelimiter||i.guessedItemDelimiter,{decimalPoint:a}=i.options;a&&a!==l||(a=i.guessedDecimalPoint||".");let h=0,d="",u="",m=0,c=0,f=t=>{d=e[t]},p=e=>{n.length<c+1&&n.push([e]),n[c][n[c].length-1]!==e&&n[c].push(e)},g=()=>{if(o>m||m>r){++m,u="";return}if("string"==typeof u?!isNaN(parseFloat(u))&&isFinite(u)?(u=parseFloat(u),p("number")):isNaN(Date.parse(u))?p("string"):(u=u.replace(/\//g,"-"),p("date")):p("number"),s.length<c+1&&s.push([]),"number"!=typeof u&&"number"!==i.guessType(u)&&a){let e=u;u=u.replace(a,"."),"number"!==i.guessType(u)&&(u=e)}s[c][t]=u,u="",++c,++m};if(e.trim().length&&"#"!==e.trim()[0]){for(;h<e.length;h++){if(f(h),"#"===d&&!/^#[A-F\d]{3,3}|[A-F\d]{6,6}/i.test(e.substring(h))){g();return}if('"'===d)for(f(++h);h<e.length&&'"'!==d;)u+=d,f(++h);else d===l?g():u+=d}g()}}guessDelimiter(e){let t=0,i=0,s,n={",":0,";":0,"	":0},o=e.length;for(let s=0;s<o;s++){let o=!1,r,l,a,h="";if(s>13)break;let d=e[s];for(let e=0;e<d.length&&(r=d[e],l=d[e+1],a=d[e-1],"#"!==r);e++){if('"'===r){if(o){if('"'!==a&&'"'!==l){for(;" "===l&&e<d.length;)l=d[++e];void 0!==n[l]&&n[l]++,o=!1}}else o=!0}else void 0!==n[r]?(isNaN(Date.parse(h=h.trim()))?(isNaN(Number(h))||!isFinite(Number(h)))&&n[r]++:n[r]++,h=""):h+=r;","===r&&i++,"."===r&&t++}}return n[";"]>n[","]?s=";":(n[","],n[";"],s=","),t>i?this.guessedDecimalPoint=".":this.guessedDecimalPoint=",",s}getTable(){return tw.getTableFromColumns(this.columns,this.headers)}}iE.defaultOptions={...tw.defaultOptions,lineDelimiter:"\n"},tw.registerType("CSV",iE);let{merge:iT}=I;class ix extends tm{constructor(e,t){let i=iT(ix.defaultOptions,e);super(i,t),this.options=i,i.enablePolling&&this.startPolling(1e3*Math.max(i.dataRefreshRate||0,1))}load(e){let t=this,i=t.dataTables,{csv:s,csvURL:n,dataModifier:o}=t.options;return t.emit({type:"load",csv:s,detail:e,tables:i}),Promise.resolve(n?fetch(n,{signal:t?.pollingController?.signal}).then(e=>e.text()):s||"").then(e=>(e&&this.initConverters(e,(e,t)=>{let i=this.options,s={dataTableKey:e,firstRowAsNames:t.firstRowAsNames??i.firstRowAsNames,beforeParse:t.beforeParse??i.beforeParse};return new iE(iT(this.options,s))},(e,t)=>{e.parse({csv:t})}),t.setModifierOptions(o).then(()=>e))).then(s=>(t.emit({type:"afterLoad",csv:s,detail:e,tables:i}),t)).catch(s=>{throw t.emit({type:"loadError",detail:e,error:s,tables:i}),s})}}ix.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0},tm.registerType("CSV",ix);let{merge:iO,uniqueKey:iR}=I;class iN extends tw{constructor(e){let t=iO(iN.defaultOptions,e);super(t),this.columns=[],this.header=[],this.options=t}parse(e,t){let i,s=iO(this.options,e),n=(s.json?.values||[]).map(e=>e.slice());if(0===n.length)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:t,headers:this.header});let{beforeParse:o,json:r}=s;o&&r&&(n=o(r.values)),this.columns=n;for(let e=0,t=n.length;e<t;e++){i=n[e],this.header[e]=s.firstRowAsNames?`${i.shift()}`:iR();for(let t=0,s=i.length;t<s;++t)if(i[t]&&"string"==typeof i[t]){let s=this.asGuessedType(i[t]);s instanceof Date&&(s=s.getTime()),this.columns[e][t]=s}}this.emit({type:"afterParse",columns:this.columns,detail:t,headers:this.header})}getTable(){return tw.getTableFromColumns(this.columns,this.header)}}iN.defaultOptions={...tw.defaultOptions},tw.registerType("GoogleSheets",iN);let{merge:iM,pick:iS}=I;class iA extends tm{constructor(e,t){let i=iM(iA.defaultOptions,e);super(i,t),this.converter=new iN(i),this.options=i}load(e){let t=this,i=t.dataTables,{dataModifier:s,dataRefreshRate:n,enablePolling:o,googleAPIKey:r,googleSpreadsheetKey:l}=t.options,a=iA.buildFetchURL(r,l,t.options);if(t.emit({type:"load",detail:e,tables:i,url:a}),!URL.canParse(a))throw Error("Invalid URL: "+a);return fetch(a,{signal:t?.pollingController?.signal}).then(e=>e.json()).then(e=>{if("object"==typeof e&&e&&"object"==typeof e.error&&e.error&&"number"==typeof e.error.code&&"string"==typeof e.error.message&&"string"==typeof e.error.status)throw Error(e.error.message);return this.initConverters(e,(e,t)=>{let i=this.options,s={dataTableKey:e,firstRowAsNames:t.firstRowAsNames??i.firstRowAsNames,beforeParse:t.beforeParse??i.beforeParse};return new iN(iM(this.options,s))},(e,t)=>{e.parse({json:t})}),t.setModifierOptions(s)}).then(()=>(t.emit({type:"afterLoad",detail:e,tables:i,url:a}),o&&setTimeout(()=>t.load(),1e3*Math.max(n||0,1)),t)).catch(s=>{throw t.emit({type:"loadError",detail:e,error:s,tables:i}),s})}}iA.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},function(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function i(e={}){let{endColumn:s,endRow:n,googleSpreadsheetRange:o,startColumn:r,startRow:l}=e;return o||(t[r||0]||"A")+(Math.max(l||0,0)+1)+":"+(t[iS(s,25)]||"Z")+(n?Math.max(n,0):"Z")}e.buildFetchURL=function(e,t,s={}){let n=new URL(`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/`),o=s.onlyColumnNames?"A1:Z1":i(s);n.pathname+=o;let r=n.searchParams;return r.set("alt","json"),s.onlyColumnNames||(r.set("dateTimeRenderOption","FORMATTED_STRING"),r.set("majorDimension","COLUMNS"),r.set("valueRenderOption","UNFORMATTED_VALUE")),r.set("prettyPrint","false"),r.set("key",e),n.href},e.buildQueryRange=i}(iA||(iA={})),tm.registerType("GoogleSheets",iA);let{merge:iL}=I;class iD extends tw{constructor(e){let t=iL(iD.defaultOptions,e);super(t),this.columns=[],this.headers=[],this.options=t,t.tableElement&&(this.tableElement=t.tableElement,this.tableElementID=t.tableElement.id)}export(e,t=this.options){let i=!1!==t.firstRowAsNames,s=t.useMultiLevelHeaders,n=e.getSortedColumns(t.usePresentationOrder),o=Object.keys(n),r=[],l=o.length,a=[],h="";if(i){let e=[];if(s){for(let t of o){let i=n[t];Array.isArray(i)||(i=Array.from(i));let s=(i.shift()||"").toString();n[t]=i,e.push(s)}h=this.getTableHeaderHTML(o,e,t)}else h=this.getTableHeaderHTML(void 0,o,t)}for(let e=0;e<l;e++){let t=n[o[e]],i=t.length;for(let s=0;s<i;s++){let i=t[s];a[s]||(a[s]=[]),"string"!=typeof i&&"number"!=typeof i&&void 0!==i&&(i=(i||"").toString()),a[s][e]=this.getCellHTMLFromValue(e?"td":"th",null,e?"":'scope="row"',i),e===l-1&&r.push("<tr>"+a[s].join("")+"</tr>")}}let d="";return t.tableCaption&&(d='<caption class="highcharts-table-caption">'+t.tableCaption+"</caption>"),"<table>"+d+h+"<tbody>"+r.join("")+"</tbody></table>"}getCellHTMLFromValue(e,t,i,s,n){let o=s,r="text"+(t?" "+t:"");return"number"==typeof o?(o=o.toString(),","===n&&(o=o.replace(".",n)),r="number"):s||(o="",r="empty"),"<"+e+(i?" "+i:"")+' class="'+r+'">'+o+"</"+e+">"}getTableHeaderHTML(e=[],t=[],i=this.options){let{useMultiLevelHeaders:s,useRowspanHeaders:n}=i,o="<thead>",r=0,l=t&&t.length,a,h=0,d;if(s&&e&&t&&!function(e,t){let i=e.length;if(t.length!==i)return!1;for(;--i;)if(e[i]!==t[i])return!1;return!0}(e,t)){for(o+="<tr>";r<l;++r)(a=e[r])===e[r+1]?++h:h?(o+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(h+1)+'"',a),h=0):(a===t[r]?n?(d=2,delete t[r]):(d=1,t[r]=""):d=1,o+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(d>1?' valign="top" rowspan="'+d+'"':""),a));o+="</tr>"}if(t){for(o+="<tr>",r=0,l=t.length;r<l;++r)void 0!==t[r]&&(o+=this.getCellHTMLFromValue("th",null,'scope="col"',t[r]));o+="</tr>"}return o+"</thead>"}parse(e,t){let i=[],s=[],n=iL(this.options,e),{endRow:o,startColumn:r,endColumn:l,firstRowAsNames:a}=n,h=n.tableElement||this.tableElement;if(!(h instanceof HTMLElement)){this.emit({type:"parseError",columns:i,detail:t,headers:s,error:"Not a valid HTML Table"});return}this.tableElement=h,this.tableElementID=h.id,this.emit({type:"parse",columns:this.columns,detail:t,headers:this.headers});let d=h.getElementsByTagName("tr"),u=d.length,m=0,c,{startRow:f}=n;if(a&&u){let e=d[0].children,t=e.length;for(let i=r;i<t&&!(i>l);i++)("TD"===(c=e[i]).tagName||"TH"===c.tagName)&&s.push(c.innerHTML);f++}for(;m<u;){if(m>=f&&m<=o){let e=d[m].children,t=e.length,s=0;for(;s<t;){let t=s-r,n=i[t];if(("TD"===(c=e[s]).tagName||"TH"===c.tagName)&&s>=r&&s<=l){i[t]||(i[t]=[]);let e=this.asGuessedType(c.innerHTML);e instanceof Date&&(e=e.getTime()),i[t][m-f]=e;let s=1;for(;m-f>=s&&void 0===n[m-f-s];)n[m-f-s]=null,s++}s++}}m++}this.columns=i,this.headers=s,this.emit({type:"afterParse",columns:i,detail:t,headers:s})}getTable(){return tw.getTableFromColumns(this.columns,this.headers)}}iD.defaultOptions={...tw.defaultOptions,useRowspanHeaders:!0,useMultiLevelHeaders:!0},tw.registerType("HTMLTable",iD);let{win:ik}=d,{merge:iH}=I;class iI extends tm{constructor(e){let t=iH(iI.defaultOptions,e);super(t),this.converter=new iD(t),this.options=t}load(e){let t,i=this,s=i.converter,n=i.table,{dataModifier:o,table:r}=i.options;if(i.emit({type:"load",detail:e,tables:{table:n},tableElement:i.tableElement}),"string"==typeof r?(i.tableID=r,t=ik.document.getElementById(r)):i.tableID=(t=r).id,i.tableElement=t||void 0,!i.tableElement){let t="HTML table not provided, or element with ID not found";return i.emit({type:"loadError",detail:e,error:t,tables:{table:n}}),Promise.reject(Error(t))}return s.parse(iH({tableElement:i.tableElement},i.options),e),n.deleteColumns(),n.setColumns(s.getTable().getColumns()),i.setModifierOptions(o).then(()=>(i.emit({type:"afterLoad",detail:e,tables:{table:n},tableElement:i.tableElement}),i))}}iI.defaultOptions={table:""},tm.registerType("HTMLTable",iI);let{error:iW,isArray:iz,merge:iF,objectEach:iP}=I;class ij extends tw{constructor(e){let t=iF(ij.defaultOptions,e);super(t),this.columns=[],this.headers=[],this.options=t,this.table=new tr}parse(e,t){let{beforeParse:i,orientation:s,firstRowAsNames:n,columnNames:o}=e=iF(this.options,e),r=e.data;if(r){if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:t,headers:this.headers}),i&&(r=i(r)),r=r.slice(),"columns"===s)for(let e=0,t=r.length;e<t;e++){let t=r[e];if(!(t instanceof Array))return;this.headers instanceof Array?(n?this.headers.push(`${t.shift()}`):o&&o instanceof Array&&this.headers.push(o[e]),this.table.setColumn(this.headers[e]||e.toString(),t)):iW("JSONConverter: Invalid `columnNames` option.",!1)}else if("rows"===s){n?this.headers=r.shift():o&&(this.headers=o);for(let e=0,t=r.length;e<t;e++){let t=r[e];if(iz(t))for(let e=0,i=t.length;e<i;e++)this.columns.length<e+1&&this.columns.push([]),this.columns[e].push(t[e]),this.headers instanceof Array?this.table.setColumn(this.headers[e]||e.toString(),this.columns[e]):iW("JSONConverter: Invalid `columnNames` option.",!1);else{let i=this.headers;if(i&&!(i instanceof Array)){let e={};iP(i,(i,s)=>{e[s]=i.reduce((e,t)=>e[t],t)}),t=e}this.table.setRows([t],e)}}}this.emit({type:"afterParse",columns:this.columns,detail:t,headers:this.headers})}}getTable(){return this.table}}ij.defaultOptions={...tw.defaultOptions,data:[],orientation:"rows"},tw.registerType("JSON",ij);let{merge:iU}=I;class iY extends tm{constructor(e,t){let i=iU(iY.defaultOptions,e);super(i,t),this.options=i,i.enablePolling&&this.startPolling(1e3*Math.max(i.dataRefreshRate||0,1))}load(e){let t=this,i=t.dataTables,{data:s,dataUrl:n,dataModifier:o}=t.options;return t.emit({type:"load",data:s,detail:e,tables:i}),Promise.resolve(n?fetch(n,{signal:t?.pollingController?.signal}).then(e=>e.json()).catch(s=>{t.emit({type:"loadError",detail:e,error:s,tables:i}),console.warn(`Unable to fetch data from ${n}.`)}):s||[]).then(e=>(e&&this.initConverters(e,(e,t)=>{let i=this.options,s={dataTableKey:e,columnNames:t.columnNames??i.columnNames,firstRowAsNames:t.firstRowAsNames??i.firstRowAsNames,orientation:t.orientation??i.orientation,beforeParse:t.beforeParse??i.beforeParse};return new ij(iU(this.options,s))},(e,t)=>{e.parse({data:t})}),t.setModifierOptions(o).then(()=>e))).then(s=>(t.emit({type:"afterLoad",data:s,detail:e,tables:i}),t)).catch(s=>{throw t.emit({type:"loadError",detail:e,error:s,tables:i}),s})}}iY.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"},tm.registerType("JSON",iY);let{merge:iV}=I;class iB extends e2{constructor(e){super(),this.options=iV(iB.defaultOptions,e)}modifyCell(e,t,i,s,n){let o=e.modified,r=o.getRowIndexBy("columnNames",t);return void 0===r?o.setColumns(this.modifyTable(e.clone()).getColumns(),void 0,n):o.setCell(`${i}`,r,s,n),e}modifyColumns(e,t,i,s){let n=e.modified,o=n.getColumn("columnNames")||[],r=e.getColumnNames(),l=e.getRowCount()!==o.length;if(!l){for(let e=0,t=r.length;e<t;++e)if(r[e]!==o[e]){l=!0;break}}if(l)return this.modifyTable(e,s);r=Object.keys(t);for(let e=0,o=r.length,l,a,h;e<o;++e){l=t[a=r[e]],h=n.getRowIndexBy("columnNames",a)||n.getRowCount();for(let e=0,t=i,o=l.length;e<o;++e,++t)n.setCell(`${t}`,h,l[e],s)}return e}modifyRows(e,t,i,s){let n=e.getColumnNames(),o=e.modified,r=o.getColumn("columnNames")||[],l=e.getRowCount()!==r.length;if(!l){for(let e=0,t=n.length;e<t;++e)if(n[e]!==r[e]){l=!0;break}}if(l)return this.modifyTable(e,s);for(let e=0,r=i,l=t.length,a;e<l;++e,++r)if((a=t[e])instanceof Array)o.setColumn(`${r}`,a);else for(let e=0,t=n.length;e<t;++e)o.setCell(`${r}`,e,a[n[e]],s);return e}modifyTable(e,t){this.emit({type:"modify",detail:t,table:e});let i=e.modified;if(e.hasColumns(["columnNames"])){let t=(e.deleteColumns(["columnNames"])||{}).columnNames||[],s={},n=[];for(let e=0,i=t.length;e<i;++e)n.push(""+t[e]);for(let t=0,i=e.getRowCount(),o;t<i;++t)(o=e.getRow(t))&&(s[n[t]]=o);i.deleteColumns(),i.setColumns(s)}else{let t={};for(let i=0,s=e.getRowCount(),n;i<s;++i)(n=e.getRow(i))&&(t[`${i}`]=n);t.columnNames=e.getColumnNames(),i.deleteColumns(),i.setColumns(t)}return this.emit({type:"afterModify",detail:t,table:e}),e}}iB.defaultOptions={type:"Invert"},e2.registerType("Invert",iB);let{merge:i$}=I;class i_ extends e2{constructor(e){super(),this.options=i$(i_.defaultOptions,e)}modifyTable(e,t){this.emit({type:"modify",detail:t,table:e});let i=[],{additive:s,ranges:n,strict:o}=this.options;if(n.length){let t=e.modified,r=e.getColumns(),l=[];for(let a=0,h=n.length,d,u;a<h;++a)if(d=n[a],!o||typeof d.minValue==typeof d.maxValue){a>0&&!s&&(t.deleteRows(),t.setRows(l),t.setOriginalRowIndexes(i,!0),r=t.getColumns(),l=[],i=[]),u=r[d.column]||[];for(let n=0,r=u.length,a,h,m;n<r;++n){switch(typeof(a=u[n])){default:continue;case"boolean":case"number":case"string":}(!o||typeof a==typeof d.minValue)&&a>=d.minValue&&a<=d.maxValue&&(s?(h=e.getRow(n),m=e.getOriginalRowIndex(n)):(h=t.getRow(n),m=t.getOriginalRowIndex(n)),h&&(l.push(h),i.push(m)))}}t.deleteRows(),t.setRows(l),t.setOriginalRowIndexes(i)}return this.emit({type:"afterModify",detail:t,table:e}),e}}i_.defaultOptions={type:"Range",ranges:[]},e2.registerType("Range",i_),eB.AST=K,eB.DataConnector=tm,eB.DataCursor=tv,eB.DataConverter=tw,eB.Grid=iu,eB.grid=iu.grid,eB.grids=iu.grids,eB.ColumnDistribution=eJ,eB.DataModifier=e2,eB.DataPool=ic,eB.DataTable=tr,eB.defaultOptions=tM.defaultOptions,eB.isHighContrastModeActive=tx.isHighContrastModeActive,eB.Templating=eF,eB.product="Grid Lite",eB.setOptions=tM.setOptions,eB.merge=I.merge,eB.Table=eB.Table||t5,iv.compose(eB.Grid,eB.Table),eB.win.Grid||(eB.win.Grid=eB);let iG=eB;return h.default})());